import{b as Pl,P as Oe,a as ot,u as Ul,N as Al,c as Tt,D as Rl,e as Dt,Q as St,d as jt,f as Mt,g as ae,h as _e,i as ol,j as it,k as Il,l as pe,m as Ae,n as Ze,o as il,p as pt,q as Ql,r as Dl,s as Hl,t as ht,v as sl,w as Wl,x as gt,y as Kl,z as yt,A as ft,B as tt,C as Qe,E as ul,F as Ne,G as De,H as Xe,I as Bt,J as Ot,K as mt,L as dl,M as Gl,O as Yl,R as Zl,S as Xl,T as Jl,U as ea,V as ta,W as la,X as Ht,Y as aa,Z as Wt,_ as Be,$ as lt,a0 as na,a1 as ra,a2 as bt,a3 as Kt,a4 as oa,a5 as ia,a6 as sa,a7 as cl,a8 as fl,a9 as ml,aa as vl,ab as ua,ac as da}from"./quasar-1667446570254.js";import{c as ca,d as pl,l as Gt}from"./package-1667446570254.js";import{a as Et}from"./axios-1667446570254.js";import{i as be,r as B,a as ze,c as h,u as hl,w as oe,t as se,b as fa,o as v,d as P,e as s,f as p,n as we,g as i,h as Ke,j as ue,k as R,m as K,l as ke,p as Ee,q as Z,s as ee,v as fe,x as G,y as ye,z as gl,A as qe,B as A,C as ma,D as Se,F as ie,E as de,G as yl,T as va,H as Je,I as zt,J as pa,K as he,L as ha,M as st,N as vt}from"./@vue-1667446570254.js";import{u as ga,i as ya,a as ba,b as ka,c as Sa,d as _a,e as xa,f as wa,g as $a,h as Ca,j as Va,k as Ta,l as ja,m as Ba,n as qa}from"./echarts-1667446570254.js";import{L as Yt}from"./zrender-1667446570254.js";const La=function(){const l=document.createElement("link").relList;return l&&l.supports&&l.supports("modulepreload")?"modulepreload":"preload"}(),Zt={},Na="",He=function(l,t){return!t||t.length===0?l():Promise.all(t.map(a=>{if(a=`${Na}${a}`,a in Zt)return;Zt[a]=!0;const r=a.endsWith(".css"),o=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${o}`))return;const n=document.createElement("link");if(n.rel=r?"stylesheet":La,r||(n.as="script",n.crossOrigin=""),n.href=a,document.head.appendChild(n),r)return new Promise((d,c)=>{n.addEventListener("load",d),n.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>l())};var Fa={Account:"\u8D26\u53F7",AccountTip1:"\u8D26\u53F7/\u624B\u673A\u53F7/\u90AE\u7BB1",Add:"\u6DFB\u52A0",All:"\u6240\u6709",BuiltIn:"\u7CFB\u7EDF\u5185\u7F6E",Cancel:"\u53D6\u6D88",Close:"\u5173\u95ED",Column:"\u5217",CompactLayout:"\u7D27\u51D1\u5E03\u5C40",Confirm:"\u786E\u5B9A",Create:"\u521B\u5EFA",CurrentLogon:"\u5F53\u524D\u767B\u5F55\u4EBA",DarkMode:"\u6697\u9ED1\u6A21\u5F0F",DecimalDigits:"\u4EC5\u652F\u6301{0}\u4F4D\u5C0F\u6570",Del:"\u5220\u9664",DelTips:"\u786E\u5B9A\u5220\u9664\u5BF9\u5E94\u6570\u636E\u5417\uFF1F",Disable:"\u7981\u7528",Distribution:"\u5206\u914D",Draft:"\u8349\u7A3F",Edit:"\u7F16\u8F91",Email:"\u90AE\u7BB1",Empty:"\u6E05\u7A7A",Enable:"\u542F\u7528",Exit:"\u9000\u51FA",ExitFullScreen:"\u9000\u51FA\u5168\u5C4F",ExitTip:"\u786E\u5B9A\u9000\u51FA\u7CFB\u7EDF\uFF1F",Fail:"\u5931\u8D25",File:"\u6587\u4EF6",FileTips:"\u6587\u4EF6\u987B\u5C0F\u4E8E {0} MB",FilterKeywords:"\u8F93\u5165\u5173\u952E\u5B57\u8FC7\u6EE4",Forget:"\u5FD8\u8BB0",FullScreen:"\u5168\u5C4F",Grid:"\u7F51\u683C",Hint:"\u63D0\u793A",HOME:"\u4E3B\u9875",ItemPage:"\u6761/\u9875",Language:"\u8BED\u8A00",LeftSide:"\u5DE6\u4FA7",List:"\u5217\u8868",Login:"\u767B\u5F55",Mobile:"\u624B\u673A\u53F7",More:"\u66F4\u591A",Name:"\u540D\u79F0",Name1:"\u59D3\u540D",NameENUS:"\u82F1\u6587\u540D",No:"\u7F16\u53F7",No1:"\u5426",NoData:"\u6CA1\u6709\u53EF\u7528\u6570\u636E",Nothing:"\u65E0",NotGreater:"\u4E0D\u5F97\u5927\u4E8E {0}",NotLess:"\u4E0D\u5F97\u5C0F\u4E8E {0}",Operation:"\u64CD\u4F5C",Other:"\u5176\u5B83",Password:"\u5BC6\u7801",PleaseInput:"\u8BF7\u8F93\u5165 ",PleaseSelect:"\u8BF7\u9009\u62E9 ",Picture:"\u56FE\u7247",PictureTips:"\u4EC5\u652F\u6301\u5C0F\u4E8E {0} MB\u7684\u56FE\u7247",Preview:"\u9884\u89C8",Refresh:"\u5237\u65B0",Reload:"\u91CD\u65B0\u52A0\u8F7D",Remarks:"\u5907\u6CE8",RememberMe:"\u8BB0\u4F4F\u6211",Reset:"\u91CD\u7F6E",Restore:"\u8FD8\u539F",Result:"\u7ED3\u679C",RightSide:"\u53F3\u4FA7",Save:"\u4FDD\u5B58",Scrap:"\u62A5\u5E9F",Search:"\u641C\u7D22",SelectedTip:"\u5DF2\u9009\u62E9\u6570\u636E\u4E2D\u6709\u4E0D\u53EF\u7528\u6570\u636E\uFF0C\u8BF7\u68C0\u67E5\uFF01",SelectedTips:"\u5DF2\u9009\u62E9 {0} \u6761\u6570\u636E",ServiceList:"\u670D\u52A1\u5217\u8868",Setting:"\u8BBE\u7F6E",ShowHide:"\u663E\u9690",Size:"\u5927\u5C0F",Sorting:"\u6392\u5E8F",Status:"\u72B6\u6001",Submit:"\u63D0\u4EA4",Success:"\u6210\u529F",Superior:"\u4E0A\u7EA7",System:"\u7CFB\u7EDF",Style:"\u98CE\u683C",Thumbnail:"\u7F29\u7565\u56FE",Time:"\u65F6\u95F4",Totals:"\u603B\u6761\u6570",ToView:"\u67E5\u770B",Type:"\u7C7B\u578B",Upload:"\u4E0A\u4F20",UploadFailed:"\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u70B9\u51FB\u91CD\u8BD5",VerifyTip1:"\u672A\u901A\u8FC7\u6821\u9A8C",WelcomeBack:"\u6B22\u8FCE\u56DE\u6765",Whether:"\u662F\u5426",WithOut:"\u65E0",Yes:"\u662F",M1:"\u4E00\u6708",M2:"\u4E8C\u6708",M3:"\u4E09\u6708",M4:"\u56DB\u6708",M5:"\u4E94\u6708",M6:"\u516D\u6708",M7:"\u4E03\u6708",M8:"\u516B\u6708",M9:"\u4E5D\u6708",M10:"\u5341\u6708",M11:"\u5341\u4E00\u6708",M12:"\u5341\u4E8C\u6708",W1:"\u5468\u4E00",W2:"\u5468\u4E8C",W3:"\u5468\u4E09",W4:"\u5468\u56DB",W5:"\u5468\u4E94",W6:"\u5468\u516D",W7:"\u5468\u65E5"},Ma=Object.freeze(Object.defineProperty({__proto__:null,default:Fa},Symbol.toStringTag,{value:"Module"})),Oa={Account:"Account"},Ea=Object.freeze(Object.defineProperty({__proto__:null,default:Oa},Symbol.toStringTag,{value:"Module"}));const Xt={"./ENUS.js":Ea};let qt={};Object.keys(Xt).forEach(e=>{const l=Xt[e];qt={...qt,...l.default||l}});const Jt={"./ZHCN.js":Ma};let Lt={};Object.keys(Jt).forEach(e=>{const l=Jt[e];Lt={...Lt,...l.default||l}});var za={EN_US:qt,ZH_CN:Lt};let Nt=(navigator.language||navigator.browserLanguage||"").toUpperCase();Nt=Nt.includes("ZH")?"ZH_CN":"EN_US";const bl=ca({locale:Nt,messages:za});var Pa=Pl(({app:e})=>{e.use(bl)});const J=bl.global;var Kr=Object.freeze(Object.defineProperty({__proto__:null,default:Pa,i18n:J},Symbol.toStringTag,{value:"Module"}));let Pe=`${window.IPConfig.SERVICE_CONTEXT_PATH}`;Pe=Pe.endsWith("/")?Pe:Pe+"/";const Ce={children:"childs",level:"level",menuEnUs:"menuNameEnUs",menuZhCn:"menuNameZhCn",menuIcon:"menuIcon",menuId:"id",parentIds:"parentIds",path:"menuUrl",serviceId:"serviceId"},Ue=(e,l,t)=>rt({method:e,url:l,data:t});function Gr(e,l,t,a=void 0){Ue("delete",e,l).then(r=>{r?t&&t(r):a&&a(r)}).catch(r=>{a&&a(r)})}function Pt(e,l,t,a=void 0){Ue("get",e,l).then(r=>{r?t&&t(r):a&&a(r)}).catch(r=>{a&&a(r)})}function ut(e,l,t,a=void 0){Ue("post",e,l).then(r=>{r?t&&t(r):a&&a(r)}).catch(r=>{a&&a(r)})}function Yr(e,l,t,a=void 0){Ue("put",e,l).then(r=>{r?t&&t(r):a&&a(r)}).catch(r=>{a&&a(r)})}const nt=(e=!0)=>({path:"/dashboard",component:e?"":()=>He(()=>import("./MainLayout-1667446570254.js"),["assets/MainLayout-1667446570254.js","assets/MainLayout-1667446570254.css","assets/@quasar-1667446570254.css","assets/quasar-1667446570254.js","assets/quasar-1667446570254.css","assets/@vue-1667446570254.js","assets/index-1667446570254.js","assets/index-1667446570254.css","assets/package-1667446570254.js","assets/@intlify-1667446570254.js","assets/vue-router-1667446570254.js","assets/axios-1667446570254.js","assets/echarts-1667446570254.js","assets/zrender-1667446570254.js","assets/ZIXIAOY-1667446570254.js"]),meta:{menuZhCn:"\u4EEA\u8868\u76D8",menuEnUs:"Dashboard",menuId:"Dashboard",menuIcon:"dashboard"},children:[{path:"/dashboard/console",component:e?"":()=>He(()=>import("./Console-1667446570254.js"),["assets/Console-1667446570254.js","assets/quasar-1667446570254.js","assets/quasar-1667446570254.css","assets/@vue-1667446570254.js"]),meta:{menuZhCn:"\u4E3B\u63A7\u53F0",menuEnUs:"Console",menuId:"Console",parentIds:"Dashboard",menuIcon:"home"}},{path:"/dashboard/worktable",component:e?"":()=>He(()=>import("./Worktable-1667446570254.js"),["assets/Worktable-1667446570254.js","assets/@vue-1667446570254.js"]),meta:{menuZhCn:"\u5DE5\u4F5C\u53F0",menuEnUs:"Worktable",menuId:"Worktable",parentIds:"Dashboard",menuIcon:"workspaces"}}]}),Zr=[{path:"/login",name:"login",meta:{menuNameZhCn:"\u767B\u5F55",menuNameEnUs:"Login"},component:()=>He(()=>import("./Login-1667446570254.js"),["assets/Login-1667446570254.js","assets/quasar-1667446570254.js","assets/quasar-1667446570254.css","assets/@vue-1667446570254.js","assets/ZIXIAOY-1667446570254.js","assets/vue-router-1667446570254.js","assets/package-1667446570254.js","assets/@intlify-1667446570254.js","assets/axios-1667446570254.js","assets/echarts-1667446570254.js","assets/zrender-1667446570254.js"])},{path:"/",component:()=>He(()=>import("./MainLayout-1667446570254.js"),["assets/MainLayout-1667446570254.js","assets/MainLayout-1667446570254.css","assets/@quasar-1667446570254.css","assets/quasar-1667446570254.js","assets/quasar-1667446570254.css","assets/@vue-1667446570254.js","assets/index-1667446570254.js","assets/index-1667446570254.css","assets/package-1667446570254.js","assets/@intlify-1667446570254.js","assets/vue-router-1667446570254.js","assets/axios-1667446570254.js","assets/echarts-1667446570254.js","assets/zrender-1667446570254.js","assets/ZIXIAOY-1667446570254.js"]),children:[{path:"",redirect:"/dashboard/console"}]},nt(!1),{path:"/:catchAll(.*)*",component:()=>He(()=>import("./ErrorNotFound-1667446570254.js"),["assets/ErrorNotFound-1667446570254.js","assets/quasar-1667446570254.js","assets/quasar-1667446570254.css","assets/@vue-1667446570254.js","assets/package-1667446570254.js","assets/@intlify-1667446570254.js","assets/axios-1667446570254.js","assets/echarts-1667446570254.js","assets/zrender-1667446570254.js"])}],Ge=e=>{const l=ot.getItem("userName");return l?`${l}-${e}`:e},Le=(e,l,t="")=>{["L","l"].includes(t)?Oe.set(Ge(String(e)),l):ot.set(Ge(String(e)),l)},Te=(e,l="")=>{var t;return["L","l"].includes(l)?(t=Oe.getItem(Ge(String(e))))!=null?t:Oe.getItem(String(e)):ot.getItem(Ge(String(e)))},Xr=(e,l="")=>{if(["L","l"].includes(l)){Oe.remove(String(e)),Oe.remove(Ge(String(e)));return}ot.remove(Ge(String(e)))},Ua=["isDark","primaryBG","positiveBG","negativeBG","infoBG","warningBG","isDense","locale"],Aa=e=>{if(ot.clear(),e)Oe.clear();else{const l=Object.keys(Oe.getAll());for(const t of l)Ua.includes(t)||Oe.remove(t)}},el=((nt()||{}).children||[{}])[0],$t={...el.meta||{},path:el.path},Ra=(e={},l={})=>e.path!==l.path?!1:e.menuId===l.menuId,Ia=pl("tagsStores",{state:()=>({tags:Te("tags")||[$t]}),getters:{},actions:{SET_TAGS(e=[$t],l){l?this.tags=[$t,...e]:this.tags=e,Le("tags",this.tags)},ADD_TAG(e){this.tags.findIndex(l=>Ra(l,e))===-1&&(this.tags.push(e),this.SET_TAGS(this.tags))},REMOVE_TAGS(e){switch(typeof e){case"undefined":this.SET_TAGS();break;case"object":e.side==="left"?this.SET_TAGS(this.tags.filter((l,t)=>t>=e.index),!0):e.side==="right"?this.SET_TAGS(this.tags.filter((l,t)=>t<=e.index)):this.SET_TAGS(this.tags.filter((l,t)=>t===e.index),e.index!==0);break;default:this.SET_TAGS(this.tags.filter((l,t)=>t!==e))}}}}),Qa=["/authMenu","/authRole","/cfgDict","/memberOrg","/memberPost","/memberUser","/operLog"],kl=(e=[],l=[],t=[nt()],a="")=>{for(const r of e){const o={meta:{menuId:r[Ce.menuId]||Ul(),menuIcon:r[Ce.menuIcon],menuZhCn:r[Ce.menuZhCn],menuEnUs:r[Ce.menuEnUs],serviceId:r[Ce.serviceId],parentIds:r[Ce.parentIds]||a},children:void 0,component:void 0,path:r[Ce.path].startsWith("/")?r[Ce.path]:"/"+r[Ce.path]};Qa.includes(o.path)&&(o.path=`/SystemCtr${o.path}`);const n=r[Ce.children];n&&n.length?(o.children=[],t.push(o),kl(n,l,o.children,o.meta.menuId)):(l.push(o),t.push(o))}return{LMenus:l,TMenus:t}},_t=pl("userStores",{state:()=>({breadcrumbs:Te("breadcrumbs")||{},btns:Te("btns")||[],listMenus:Te("listMenus")||[],OSSPath:Te("OSSPath")||"",serviceList:Te("serviceList")||[],serviceMenu:{},token:Te("Token","L")||"",treeMenus:[nt()],userInfo:Te("userInfo")||{}}),getters:{},actions:{SET_USERINFO(e){this.userInfo=e,Le("userInfo",e)},SET_SERVICELIST(e){this.serviceList=e,Le("serviceList",e)},SET_BREADCRUMBS(e){this.breadcrumbs=e,Le("breadcrumbs",e)},SET_TOKEN(e){this.token=e,Le("Token",e,"L")},async LoginByName(e={}){return new Promise((l,t)=>{e.containServiceList=!0,Ue("post","/auth/api/login",e).then(a=>{Le("userName",a.userVO.loginName),this.SET_TOKEN(a.authToken),this.SET_USERINFO(a.userVO),this.SET_SERVICELIST(a.serviceList),Q(this.breadcrumbs)&&this.SET_BREADCRUMBS(a.serviceList[0]||{}),l(a.userVO)}).catch(a=>{t(a)})})},async GetBtns(){return new Promise((e,l)=>{const{id:t}=this.breadcrumbs||{},a=this.serviceMenu[t];if(a&&a.btns){e(a.btns);return}Ue("get","/auth/api/currentUserPermissions",{serviceId:t}).then(r=>{this.btns=[...new Set([...this.btns,...r])],Le("btns",this.btns),a?a.btns=r:this.serviceMenu[t]={btns:r},e(r)}).catch(r=>{l(r)})})},async GetMenus(){return await this.GetBtns(),new Promise((e,l)=>{const{id:t}=this.breadcrumbs||{},a=this.serviceMenu[t];if(a&&a.menu){this.treeMenus=a.menu.TMenus,e({TMenus:a.menu.TMenus,LMenus:[]});return}Ue("get","/auth/api/currentUserTreeMenus",{serviceId:t}).then(r=>{const o=kl(r);this.listMenus=Za([...this.listMenus,...o.LMenus],"path"),Le("listMenus",this.listMenus),this.treeMenus=o.TMenus,a?a.menu=o:this.serviceMenu[t]={menu:o},e(o)}).catch(r=>{l(r)})})},async LOGOUT(){return new Promise(e=>{Ia().SET_TAGS(),this.listMenus=[],this.serviceMenu={},this.treeMenus=[nt()],this.SET_TOKEN(""),this.SET_USERINFO({}),this.SET_SERVICELIST([]),this.SET_BREADCRUMBS(void 0),Aa(),e(!0)})}}}),Da=e=>{const l=[];return Object.keys(e).forEach(t=>{l.push(`${t}=${e[t]}`)}),l.join("&")},Sl=e=>{e&&e.data&&Ha(e.data)&&(e.data=JSON.parse(e.data));const{method:l,url:t,params:a,data:r}=e;return[l,t,Gt.stringify(a),Gt.stringify(r)].join("&")},Ha=e=>{if(typeof e=="string")try{const l=JSON.parse(e);return!!(typeof l=="object"&&l)}catch{return!1}},et=e=>{Al.create({type:"negative",message:e.message||e.error||e})};let Ut=!1;const Wa=e=>{Ut=e},_l=()=>{kt=!1,Ut=!0,Promise.resolve().then(()=>{We.forEach(e=>e(wl)),We=[]}),Me=0},Ft=e=>{const{userInfo:l,LoginByName:t}=_t();At({msg:e.message||e,okLabel:J.t("Login"),cancelLabel:J.t("Close"),prompt:{model:"",outlined:!0,placeholder:J.t("Password"),isValid:a=>a.length>0,type:"password"}},a=>{const r={loginName:l.loginName,tenantId:l.tenantId,password:a};t(r).then(()=>{}).catch(()=>{}),kt=!0,Me=0},()=>_l())};let Me=0,We=[],kt=!1;const tl=e=>(Me===0&&(Me=1,Ft(e.data)),new Promise(l=>We.push(t=>l(t(e.config))))),Ka=e=>[200,201,500].includes(e.status)?e.data.code?je[e.data.code||"default"](e.data):e.status===500?je.default(e.data):je.blob(e):je[e.status||"default"](e.data),xl=["118","119","401"],Ga=(e,l)=>(kt&&We.length&&(kt=!1,e.status===200&&e.data.code!=="-1"?Promise.resolve().then(()=>{We.forEach(t=>t(l)),We=[]}):_l()),e.status===401||e.data&&e.data.code==="-1"&&e.data.data&&xl.includes(e.data.data.bussinessCode)?tl(e):Ka(e)),je={"-1":e=>e.data&&xl.includes(e.data.bussinessCode)?(Me===0&&(Me=1,Ft(e)),Promise.reject(e.message)):(et(e),Promise.reject(e.message)),0:e=>e.data||!0,200:e=>e.data||!0,201:e=>e.data||!0,401:e=>(Me===0&&(Me=1,Ft(e)),Promise.reject(e.message)),404:e=>(et("404"),Promise.reject(e)),500:e=>{et(e)},503:e=>(et(J.t("AxiosTip")),Promise.reject(e)),blob:e=>e,default:e=>(et(e),Promise.reject(e))},at=new Map;function Ya(e){const l=Sl(e);at.has(l)||(e.cancelToken=e.cancelToken||new Et.CancelToken(t=>{at.set(l,t)}))}function wl(e){const l=Sl(e);at.has(l)&&(at.get(l)(l),at.delete(l))}const rt=Et.create({baseURL:Pe,timeout:5e4,validateStatus:e=>e>=200&&e<=500});rt.interceptors.request.use(e=>{Tt.start();const l=Te("Token","L")||"";return e.headers={lang:J.locale,Authorization:l,"Content-Type":"application/json;charset=UTF-8"},["post","put"].includes(e.method.toLocaleLowerCase())&&e.headers.serialize?e.data=Da(e.data):["get"].includes(e.method.toLocaleLowerCase())&&(e.params=e.params||e.data),Ya(e),Ut&&(wl(e),Wa(!1)),e},e=>Promise.reject(e));rt.interceptors.response.use(e=>(Tt.stop(),e.status===201&&_t().SET_TOKEN(e.headers.authorization),Ga(e,rt)),e=>{if(Tt.stop(),Et.isCancel(e))return Promise.reject(e);if(e.message){const l=e.message.split(" status code ")[1];return je[l||"default"](e)}return Promise.reject(e)});function te(e){const l={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};return e instanceof Element?"element":l[toString.call(e)]}function xe(e){const l=te(e);return l==="array"?Dt(!0,[],e):l==="object"?Dt(!0,{},e):e}function Q(e,l){if(["boolean","number"].includes(typeof e))return!1;if(["undefined","null"].includes(te(e))||te(e)==="string"&&e==="")return!0;if(e instanceof Array){if(e.length===0)return!0;if(l){for(const t of e)if(!Q(t,l))return!1;return!0}}else if(e instanceof Object)return l?Object.values(e).filter(a=>a).length===0:!Object.keys(e).length;return!1}function Jr(e="",l,t){return J.locale==="ZH_CN"?e=l||e.substring(0,e.length-4)+"ZhCn":J.locale==="EN_US"&&(e=t||e.substring(0,e.length-4)+"EnUs"),e}function eo(e){return Q(e)?!0:/^1[3-9]\d{9}$/.test(e)}function to(e){return Q(e)?!0:/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e)}function Za(e,l="id",t){const a=new Map;return t&&(e=xe(e)),e.reverse(),e=e.filter(r=>!a.has(r[l])&&a.set(r[l],1)),e.reverse()}function At({title:e,msg:l="",okLabel:t,cancelLabel:a,prompt:r},o=void 0,n=void 0){Rl.create({title:e||J.t("Hint"),message:l,ok:{color:"#FFF",label:t||J.t("Confirm"),textColor:"primary"},cancel:{color:"#FFF",label:a||J.t("Cancel"),textColor:"negative"},prompt:r,persistent:!0}).onOk(d=>o&&o(d)).onCancel(()=>n&&n())}function $l(e){const l={method:e.dicMethod||"post",url:e.dicUrl,data:e.dicQuery||{},responseType:"blob"};rt(l).then(t=>{const a=document.createElement("a"),r=new Blob([t.data],{type:e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),o=/filename=([^;]+\.[^\\.;]+);*/,n=decodeURI(t.headers["content-disposition"]),d=o.exec(n)||[];let c=e.fileName||d[1]||"\u672A\u547D\u540D";c=c.replace(/"/g,""),a.href=URL.createObjectURL(r),a.setAttribute("download",c),document.body.appendChild(a),a.click(),document.body.appendChild(a),typeof e.done=="function"&&e.done()}).catch(()=>{typeof e.done=="function"&&e.done()})}var Cl=(e,l)=>{const t=e.__vccOpts||e;for(const[a,r]of l)t[a]=r;return t};const Xa={class:"text-h6 text-weight-medium text-primary"},Vl={__name:"QModal",props:{loading:Boolean,fullScreen:Boolean,modelValue:Boolean,persistent:{type:Boolean,default:!0}},emits:["confirm","update:modelValue","update:loading"],setup(e,{emit:l}){const t=e,a=be("BgToColor"),r=be("isDense",!0),o=B(!1),n=B(!1),d=ze({"fab-mini":!0,round:!0,flat:!0}),c=h(()=>g.value?{icon:"fullscreen_exit",text:J.t("ExitFullScreen")}:{icon:"crop_free",text:J.t("FullScreen")}),$=hl(),k=h(()=>t.fullScreen||g.value?!1:!$.position),L=h(()=>$.btnAlign||"right"),C=h(()=>t.persistent===!1||!!$.position),N=h(()=>{const{fullWidth:z,fullHeight:u,position:q}=$;return{class:"q-modal",fullWidth:z,fullHeight:u||["left","right"].includes(q),persistent:!0,position:q,maximized:t.fullScreen||g.value}}),y=h(()=>{if(t.fullScreen||g.value)return{};let z="";return $.width&&(z=String($.width).endsWith("%")?$.width:$.width+"px"),$.position?{width:z||"560px"}:{width:z||"45%"}}),g=B(!1),b=()=>{g.value=!g.value},j=h(()=>{let z=81;return(t.fullScreen||g.value)&&(z-=48),(Q($.menuBtn)||$.menuBtn)&&(z+=50),`calc(100vh - ${z}px)`}),V=()=>{t.modelValue!==o.value&&(o.value=t.modelValue)};oe(se(t,"modelValue"),()=>V()),oe(se(t,"loading"),z=>n.value=z,{immediate:!0});const O=()=>{o.value=!1,n.value=!1,l("update:loading",!1),l("update:modelValue",!1)},M=()=>{n.value=!0,l("confirm",O)},E=()=>"",F=(z="")=>{const u=$.onBeforeClose||$.beforeClose;if(z==="close"){u&&u(E),ye(()=>O());return}t.loading||n.value||(u?u(O):O())};return(z,u)=>{const q=fa("drag");return v(),P(il,K({ref:"QModal",modelValue:o.value,"onUpdate:modelValue":u[2]||(u[2]=I=>o.value=I)},i(N),{onShake:u[3]||(u[3]=I=>i(C)&&F()),onEscapeKey:u[4]||(u[4]=I=>i(C)&&F())}),{default:s(()=>[p(St,{style:we(i(y))},{default:s(()=>[Ke((v(),P(jt,null,{default:s(()=>[ue("span",Xa,R(i($).header),1),p(Mt),!e.fullScreen&&!i($).position?(v(),P(ae,K({key:0,dense:i(r),icon:i(c).icon},d,{onClick:b}),{default:s(()=>[p(_e,ke(Ee(z.$tooltipAttr)),{default:s(()=>[Z(R(i(c).text),1)]),_:1},16)]),_:1},16,["dense","icon"])):ee("",!0),i($).closeBtn!==!1?(v(),P(ae,K({key:1,dense:i(r),class:"q-btn-close",icon:"close"},d,{onClick:u[0]||(u[0]=I=>F("close"))}),{default:s(()=>[p(_e,ke(Ee(z.$tooltipAttr)),{default:s(()=>[Z(R(z.$t("Close")),1)]),_:1},16)]),_:1},16,["dense"])):ee("",!0)]),_:1})),[[q,i(k)]]),p(ol,{class:fe([i($).contentClass,"scroll"]),style:we({maxHeight:i(j)})},{default:s(()=>[G(z.$slots,"default")]),_:3},8,["class","style"]),p(it),i($).menuBtn!==!1?(v(),P(Il,{key:0,align:i(L)},{default:s(()=>[G(z.$slots,"menuLeft"),i($).submitBtn!==!1?(v(),P(ae,{key:0,loading:n.value,"text-color":i(a)("primary"),color:"primary",glossy:"","no-wrap":"",padding:".4em 1em",onClick:M},{default:s(()=>[p(pe,{class:"on-left",name:"published_with_changes"}),Z(" "+R(i($).submitText||z.$t("Confirm")),1)]),_:1},8,["loading","text-color"])):ee("",!0),i($).closeBtn!==!1?(v(),P(ae,{key:1,loading:n.value,"text-color":i(a)("negative"),color:"negative",glossy:"","no-wrap":"",padding:".4em 1em",onClick:u[1]||(u[1]=I=>F("close"))},{default:s(()=>[p(pe,{class:"on-left",name:"cancel_schedule_send"}),Z(" "+R(i($).closeText||z.$t("Close")),1)]),_:1},8,["loading","text-color"])):ee("",!0),G(z.$slots,"menuRight")]),_:3},8,["align"])):ee("",!0),p(Ae,{showing:n.value},{default:s(()=>[p(Ze,{color:"primary",size:"50px"})]),_:1},8,["showing"])]),_:3},8,["style"])]),_:3},16,["modelValue"])}}};var Ja=Object.freeze(Object.defineProperty({__proto__:null,default:Vl},Symbol.toStringTag,{value:"Module"}));function en(e={}){if(e.component)return e.component;const{type:l}=e;return Q(l)?pt:l==="select"?"qx-select":["date","datetime","daterange"].includes(l)?"qx-date":["time"].includes(l)?"qx-time":l==="number"?"q-number":["radio","checkbox","toggle"].includes(l)?"q-group":["year","yearrange"].includes(l)?"q-year":["month","monthrange"].includes(l)?"q-month":l==="tree"?"q-select-tree":l==="icon"?"qx-icon":l==="editor"?"qx-editor":l==="file"?"qx-file":l==="picture"?"q-picture":l==="btnToggle"?Ql:l==="range"?Dl:l==="slider"?Hl:pt}const tn=/width.*?%;/g;function ln(e={},l,t){const{type:a="input"}=e,r=xe(e);if(["select"].includes(a)&&typeof e.options=="function"&&(r.options=e.options(l)),r.inline=!0,r.outlined=!0,r.lazyRules=e.lazyRules||!0,r.rules=an(e),r.placeholder=Tl(e),l&&(r.rowInfo=l),t&&delete r.maxlength,a==="textarea"&&(r.autogrow=!0),r.maxlength&&(r.counter=!0),r.component||delete r.required,r.style){const n=r.style.split(";").find(d=>d.startsWith("width:"));n&&n.endsWith("%")&&(r.style=r.style.replace(tn,""))}return delete r.component,delete r.formslot,delete r.label,delete r.value,delete r.name,delete r.slot,r}function an(e={}){const l=e.rules||[];return e.required&&l.unshift(t=>!Q(t)||`${Tl(e)}`),l}const nn=["input","editor","number","textarea","password","",void 0,null];function Tl(e={}){return nn.includes(e.type)?`${J.t("PleaseInput")}${e.label||""}`:`${J.t("PleaseSelect")}${e.label||""}`}const rn={key:0,class:"text-red text-weight-bold q-pr-xs"},on={__name:"FormItem",props:{column:{type:Object,default:()=>({})},dense:{type:Boolean,default:!0},loading:Boolean,readonly:Boolean,isSearch:Boolean,formWidth:Number,modelValue:Object,labelPosition:String,span:[String,Number],labelWidth:[String,Number]},setup(e){const l=e;gl(g=>({"5a5ff5ac":`${i(k)}`}));const t=h(()=>{var g;return(g=l.dense)!=null?g:be("isDense",!0)}),a=h(()=>{if(l.isSearch)return l.span||3;if(!l.formWidth)return l.span||6;if(l.span)return[12,"12"].includes(l.span)&&l.formWidth>2e3?6:l.span;let g=1;return l.formWidth<401?g=12:l.formWidth<801?g=6:l.formWidth<1201?g=4:l.formWidth<1601?g=3:l.formWidth<2001&&(g=2),l.span>g?l.span:g}),r=h(()=>!l.isSearch&&l.formWidth&&l.formWidth/12*a.value<301?!0:l.labelPosition==="top"),o=h(()=>{let g="qx-form-item items-start";return r.value||(g+=" row"),`${g} col-${a.value}`}),n=h(()=>{let g="q-pr-sm row items-center text-right";return t.value?g+=" qx-form-item-label-dense":g+=" qx-form-item-label",r.value?g+=" qx-form-item-label-top":l.labelPosition==="left"?g+=" justify-start":g+=" justify-end",g}),d=Object.keys(qe()),c=h(()=>g=>d.includes(g)),$=h(()=>!["0",0].includes(l.labelWidth)),k=h(()=>r.value||!$.value?"100%":`${l.labelWidth||80}px`),L=h(()=>{const g=ln(l.column,N.value,l.isSearch);return l.readonly&&(delete g.counter,delete g.maxlength),g}),C=h(()=>en(l.column)),N=B({}),y=(g,b)=>{if(N.value=l.modelValue||{},Q(l.column))return;const{field:j}=l.column;if(b&&N.value[j]===b){N.value[j]=g;return}N.value[j]||Q(l.column.value)||(N.value[j]=l.column.value)};return oe(()=>{var g;return(g=l.column)==null?void 0:g.value},(g,b)=>y(g,b)),oe(se(l,"modelValue"),()=>y(),{immediate:!0}),(g,b)=>(v(),A("div",{class:fe(i(o))},[i($)?(v(),A("div",{key:0,class:fe([i(n),"form-item-label-width"])},[ue("span",{class:fe(i(r)?"ellipsis":"ellipsis-2-lines")},[e.column.required?(v(),A("i",rn,"*")):ee("",!0),Z(" "+R(e.column.label),1)],2)],2)):ee("",!0),p(ht,{class:"qx-form-item-card"},{default:s(()=>[e.column.formslot?G(g.$slots,e.column.field,{key:0,attrs:i(L)},void 0,!0):(v(),P(ma(i(C)),K({key:1,modelValue:N.value[e.column.field],"onUpdate:modelValue":b[0]||(b[0]=j=>N.value[e.column.field]=j),dense:i(t),loading:e.loading,readonly:e.loading||e.readonly,name:""},i(L)),Se({_:2},[i(c)(`${e.column.field}B`)?{name:"before",fn:s(()=>[G(g.$slots,e.column.field+"B",{},void 0,!0)]),key:"0"}:void 0,i(c)(`${e.column.field}A`)?{name:"after",fn:s(()=>[G(g.$slots,e.column.field+"A",{},void 0,!0)]),key:"1"}:void 0,i(c)(`${e.column.field}P`)?{name:"prepend",fn:s(()=>[G(g.$slots,e.column.field+"P",{},void 0,!0)]),key:"2"}:void 0,i(c)(`${e.column.field}AP`)?{name:"append",fn:s(()=>[G(g.$slots,e.column.field+"AP",{},void 0,!0)]),key:"3"}:void 0]),1040,["modelValue","dense","loading","readonly"]))]),_:3})],2))}};var ll=Cl(on,[["__scopeId","data-v-50a9bf04"]]);const sn={__name:"QxForm",props:{modelValue:Object,isSearch:Boolean,option:{type:Object,default:()=>({})},dense:{type:Boolean,default:!0}},emits:["submit","update:modelValue"],setup(e,{expose:l,emit:t}){const a=e,r=be("BgToColor"),o=h(()=>{var u;return(u=a.dense)!=null?u:be("isDense",!0)}),n=B(null),d=B(!1),c=h(()=>u=>(u==null?void 0:u.label)+(u==null?void 0:u.field)),$=h(()=>(u=[])=>u.filter(q=>a.isSearch?q.search!==!1:q.display!==!1)),k=h(()=>(u={})=>{const{labelPosition:q,labelWidth:I,searchLabelWidth:H,span:S,searchSpan:W,readonly:f}=a.option||{};if(a.isSearch){const _=Q(u.searchLabelWidth)?H:u.searchLabelWidth;return{loading:d.value,labelPosition:"right",readonly:u.searchReadonly,span:u.searchSpan||W,labelWidth:Q(_)?u.labelWidth||I:_}}return{loading:d.value,span:u.span||S,labelPosition:u.labelPosition||q,readonly:Q(u.readonly)?f:u.readonly,labelWidth:Q(u.labelWidth)?I:u.labelWidth}}),L=h(()=>(u={})=>(u={...u},a.isSearch&&(u.searchType&&(u.type=u.searchType),delete u.hint,delete u.value,delete u.required,u.searchHint&&(u.hint=u.searchHint),u.searchValue&&(u.value=u.searchValue),u.searchRequired&&(u.required=u.searchRequired)),delete u.children,delete u.searchHint,delete u.searchType,delete u.searchValue,delete u.searchRequired,u)),C=Object.keys(qe()),N=h(()=>u=>C.filter(q=>[u,`${u}A`,`${u}B`,`${u}P`,`${u}AP`].includes(q))),y=h(()=>{const{menuBtn:u,searchMenuBtn:q=!0}=a.option||{};return a.isSearch?q:u}),g=h(()=>{let u;return o.value?u="qx-form-menu-dense":u="qx-form-menu",a.isSearch?(a.option&&a.option.searchMenu&&(u+=` col-${a.option.searchMenu}`),a.option&&a.option.searchMenuPosition&&(u+=` text-${a.option.searchMenuPosition}`),u):(a.option&&a.option.menuSpan?u+=` col-${a.option.menuSpan} q-pl-md`:u+=" col-12 q-pr-sm",a.option&&a.option.menuPosition?u+=` text-${a.option.menuPosition}`:u+=" text-center",u)}),b=B(0),j=u=>{b.value=u.width},V=B({}),O=()=>{n.value&&n.value.resetValidation(),V.value=a.modelValue||{}};oe(se(a,"modelValue"),()=>O(),{immediate:!0});const M=()=>{n.value&&n.value.resetValidation(),V.value={},t("update:modelValue",V.value)},E=()=>{d.value=!1},F=(u,q)=>{n.value.validate().then(I=>{I?u&&(d.value=!0,u(V.value,E)):q&&q()})},z=()=>{d.value=!0,t("submit",V.value,E)};return l({onReset:M,validate:F}),(u,q)=>(v(),A(ie,null,[p(Wl,{ref_key:"QxForm",ref:n,class:fe([e.isSearch?"qx-form-search":"qx-form-normal","qx-form full-width row q-col-gutter-sm items-start rounded-borders"]),onReset:M,onSubmit:z},{default:s(()=>[b.value>0||e.isSearch?(v(),A(ie,{key:0},[(v(!0),A(ie,null,de(i($)(e.option.column),(I,H)=>(v(),A(ie,{key:i(c)(I)},[I.children?(v(),P(sl,{key:0,disable:d.value,group:`group-${H}`,label:I.label,class:"full-width non-selectable","default-opened":"","rounded-borders":"","switch-toggle-side":""},{default:s(()=>[p(St,{class:"row"},{default:s(()=>[(v(!0),A(ie,null,de(i($)(I.children),S=>(v(),P(ll,K({key:i(c)(S),modelValue:V.value,"onUpdate:modelValue":q[0]||(q[0]=W=>V.value=W),column:i(L)(S),dense:i(o),formWidth:b.value,isSearch:e.isSearch},i(k)(u.cCoumn)),Se({_:2},[de(i(N)(S.field),W=>({name:W,fn:s(({attrs:f})=>[G(u.$slots,W,{attrs:f})])}))]),1040,["modelValue","column","dense","formWidth","isSearch"]))),128))]),_:2},1024)]),_:2},1032,["disable","group","label"])):(v(),P(ll,K({key:1,modelValue:V.value,"onUpdate:modelValue":q[1]||(q[1]=S=>V.value=S),column:i(L)(I),dense:i(o),formWidth:b.value,isSearch:e.isSearch},i(k)(I)),Se({_:2},[de(i(N)(I.field),S=>({name:S,fn:s(({attrs:W})=>[G(u.$slots,S,{attrs:W})])}))]),1040,["modelValue","column","dense","formWidth","isSearch"]))],64))),128)),i(y)?(v(),A("div",{key:0,class:fe(i(g))},[p(ae,{loading:d.value,"text-color":i(r)("primary"),class:"q-ml-sm",color:"primary","no-wrap":"",type:"submit"},{default:s(()=>[e.isSearch?(v(),A(ie,{key:0},[p(pe,{class:"on-left",name:"search"}),Z(" "+R(e.option.searchText||u.$t("Search")),1)],64)):(v(),A(ie,{key:1},[p(pe,{class:"on-left",name:"published_with_changes"}),Z(" "+R(e.option.submitText||u.$t("Submit")),1)],64))]),_:1},8,["loading","text-color"]),e.option.resetBtn!==!1?(v(),P(ae,{key:0,loading:d.value,"text-color":i(r)("negative"),color:"negative","no-wrap":"",type:"reset"},{default:s(()=>[p(pe,{class:"on-left",name:"restore"}),Z(" "+R(e.option.resetText||u.$t("Reset")),1)]),_:1},8,["loading","text-color"])):ee("",!0),G(u.$slots,"menuRight",{loading:d.value})],2)):ee("",!0)],64)):ee("",!0)]),_:3},8,["class"]),e.isSearch?ee("",!0):(v(),P(gt,{key:0,debounce:"1000",onResize:j}))],64))}};var un=Object.freeze(Object.defineProperty({__proto__:null,default:sn},Symbol.toStringTag,{value:"Module"}));const dn={class:"text-h6 text-weight-medium text-primary"},cn={__name:"QxPage",props:{loading:Boolean,showMenu:{type:Boolean,default:!0},modelValue:Boolean},emits:["confirm","update:modelValue","update:loading"],setup(e,{emit:l}){const t=e,a=hl(),r=be("BgToColor"),o=be("isDense",!0),n=B(!1),d=B(!1),c=B(!1),$=h(()=>{let y=40;return t.showMenu&&(y+=40),`calc(100% - ${y}px)`});oe(se(t,"modelValue"),y=>{y&&!n.value&&(n.value=y),d.value=y}),oe(se(t,"loading"),y=>{c.value=y},{immediate:!0});const k=ze({"fab-mini":!0,round:!0,flat:!0}),L=y=>{y===!0&&N(),c.value=!1,l("update:loading",!1)},C=()=>{c.value=!0,l("confirm",L)},N=()=>{const y=a.onBeforeClose||a.beforeClose;y&&typeof y=="function"?y():(d.value=!1,l("update:modelValue",!1))};return(y,g)=>(v(),P(va,{name:"q-transition--scale"},{default:s(()=>[n.value?Ke((v(),P(St,{class:"qx-page",key:"email-button"},{default:s(()=>[p(jt,{class:"glossy qx-page-header"},{default:s(()=>[ue("span",dn,R(i(a).header),1),p(Mt),i(a).closeBtn!==!1?(v(),P(ae,K({key:0,dense:i(o)},k,{icon:"reply_all",onClick:N}),{default:s(()=>[p(_e,ke(Ee(y.$tooltipAttr)),{default:s(()=>[Z(R(y.$t("Close")),1)]),_:1},16)]),_:1},16,["dense"])):ee("",!0)]),_:1}),ue("div",{style:we({height:i($)}),class:"qx-page-content"},[G(y.$slots,"default")],4),e.showMenu?(v(),P(jt,{key:0,class:"qx-page-footer glossy rounded-borders flex-center"},{default:s(()=>[G(y.$slots,"menuLeft"),i(a).submitBtn!==!1?(v(),P(ae,{key:0,"no-wrap":"",glossy:"",color:"primary","text-color":i(r)("primary"),onClick:C,loading:c.value,padding:".7em 1.5em"},{default:s(()=>[p(pe,{class:"on-left",name:"published_with_changes"}),Z(" "+R(i(a).submitText||y.$t("Confirm")),1)]),_:1},8,["text-color","loading"])):ee("",!0),i(a).closeBtn!==!1?(v(),P(ae,{key:1,"no-wrap":"",glossy:"",color:"negative","text-color":i(r)("negative"),onClick:N,loading:c.value,padding:".7em 1.5em"},{default:s(()=>[p(pe,{class:"on-left",name:"cancel_schedule_send"}),Z(" "+R(i(a).closeText||y.$t("Close")),1)]),_:1},8,["text-color","loading"])):ee("",!0),G(y.$slots,"menuRight")]),_:3})):ee("",!0),p(Ae,{showing:c.value},{default:s(()=>[p(Ze,{size:"50px",color:"primary"})]),_:1},8,["showing"])]),_:3},512)),[[yl,d.value]]):ee("",!0)]),_:3}))}};var fn=Object.freeze(Object.defineProperty({__proto__:null,default:cn},Symbol.toStringTag,{value:"Module"}));function jl(e="left",l=[],t=0){var n;const a=[];let r=0;const o=l.length;for(r;r<o&&!l[r].hide;r++){const d=l[r];if(d.required=d.showColumn,["index","menu"].includes(d.name)||(d.name=`${d.field}$$${t}-${r}`),d.align=d.align||e,d.style=d.style||"",d.headerStyle=d.headerStyle||"",d.width){const c=isNaN(Number(d.width))?d.width:`${d.width}px`;d.style+=`width: ${c}; `,d.headerStyle+=`width: ${c}; `,delete d.width}if(d.minWidth){const c=isNaN(Number(d.minWidth))?d.minWidth:`${d.minWidth}px`;d.style+=`min-width: ${c};`,d.headerStyle+=`min-width: ${c};`,delete d.minWidth}(n=d==null?void 0:d.children)!=null&&n.length?a.push.apply(a,jl(e,d.children,t+1)):a.push(d)}return a}const Bl=(e,l="children")=>{const t=[];return e.forEach(a=>{var r;a.hide||(t.push(a),(r=a[l])!=null&&r.length&&t.push.apply(t,Bl(a[l])))}),t};function mn(e=[]){let l=1;const t=(o,n)=>{if(n&&(o.level=n.level+1,l<o.level&&(l=o.level)),o.children){let d=0;o.children.forEach(c=>{c.hide||(t(c,o),d+=c.colSpan)}),o.colSpan=d}else o.colSpan=1};e.forEach(o=>{o.hide||(o.level=1,t(o))});const a=[];for(let o=0;o<l;o++)a.push([]);return Bl(e).forEach(o=>{o.children?o.rowSpan=1:o.rowSpan=l-o.level+1,a[o.level-1].push(o)}),a}function Fe(e={}){if(Q(e.value))return"";if(te(e.options)!=="array")return e.value;const l=e.props||{};if(e.multiple){const a=e.value.split(",");let r=e.options.filter(o=>te(o)==="object"?a.includes(o[l.value||"value"]):a.includes(o));return r=r.map(o=>te(o)==="object"?o[l.label||"label"]:o),r.join(", ")||e.value}const t=e.options.find(a=>te(a)==="object"?e.value===a[l.value||"value"]:e.value===a);return te(t)==="object"?t[l.label||"label"]:t||e.value}function ql(e="",l={}){return typeof e=="function"?e(l):e}const vn={class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition"},pn={class:""},hn={class:"table-menu"},gn={key:1},yn={__name:"TableGrid",props:{props:Object,selection:String,rowClick:Function,cellClick:Function,headerClick:Function,headerCellClick:Function,rowCls:[String,Function]},setup(e){const l=e,t=be("isDark",!1),a=h(()=>{const{cols:k}=l.props||{};return k.filter(L=>!["index","menu"].includes(L.name))}),r=h(()=>(k={})=>!k.tagColors||Q(k.value)?"primary":k.tagColors[k.value]||"primary"),o=k=>{if(k.headerClick)return k.headerClick(k);if(l.headerCellClick)return l.headerCellClick(k);if(l.headerClick)return l.headerClick(l.props,k)},n=h(()=>k=>{if(k.headerClick||l.headerCellClick)return"cursor-pointer text-primary";if(l.headerClick)return"cursor-pointer"}),d=k=>{const{row:L}=l.props||{};if(k.cellClick)return k.cellClick(L);if(l.cellClick)return l.cellClick(L);if(l.rowClick)return l.rowClick(L)},c=ze({"text-subtitle1":!0,"text-capitalize":!0}),$=h(()=>k=>{if(k.cellClick||l.cellClick)return"cursor-pointer text-primary";if(l.rowClick)return"cursor-pointer"});return(k,L)=>(v(),A("div",vn,[p(St,{class:fe(e.props.selected?i(t)?"bg-grey-9":"bg-grey-2":"")},{default:s(()=>[p(ol,{class:"row justify-between items-center"},{default:s(()=>[ue("div",pn,[p(pe,{class:"q-mr-sm"},{default:s(()=>[Z(R(e.props.rowIndex+1),1)]),_:1}),e.selection?G(k.$slots,"selection",{key:0,props:e.props}):ee("",!0)]),ue("div",hn,[G(k.$slots,"menu")])]),_:3}),p(it),p(Kl,{class:fe(i(ql)(e.rowCls,e.props)),dense:""},{default:s(()=>[(v(!0),A(ie,null,de(i(a),C=>(v(),A(ie,{key:C.name},[p(yt,{class:fe(i(n)(C)),onClick:N=>o(C)},{default:s(()=>[C.headerSlot?(v(),A("span",{key:0,class:fe(c)},[G(k.$slots,C.field+"H",{row:C})],2)):(v(),A("span",{key:1,class:fe(c)},R(C.label),3))]),_:2},1032,["class","onClick"]),p(yt,{class:fe(i($)(C)),caption:"",onClick:N=>d(C)},{default:s(()=>[C.slot?G(k.$slots,C.field,{key:0}):(v(),A(ie,{key:1},[C.useTag?(v(),P(ft,{key:0,color:i(r)(C),outline:"",square:"","text-color":"white"},{default:s(()=>[Z(R(i(Fe)(C)),1)]),_:2},1032,["color"])):(v(),A("span",gn,R(i(Fe)(C)),1))],64))]),_:2},1032,["class","onClick"])],64))),128))]),_:3},8,["class"])]),_:3},8,["class"])]))}},Ve={__name:"QxTooltip",props:{mask:String,rowsNum:{type:[Number,String],default:1},modelValue:[String,Number,Date,Array,Object]},setup(e){const l=e,t=B(!0),a=n=>l.mask?tt.formatDate(n,l.mask):n,r=h(()=>{let n="";const d=qe().default;if(d&&d())for(const c of d())n+=c.children;return Q(n)&&(n=l.modelValue||""),a(n)}),o=n=>{const d=n.target||n,c=d.scrollHeight>d.clientHeight+2,$=d.scrollWidth>d.clientWidth;if(c||$){t.value=!0;return}t.value=!1};return(n,d)=>(v(),A("span",{style:we({"-webkit-line-clamp":e.rowsNum}),class:"multiRow_5",onMouseenter:o},[Z(R(i(r))+" ",1),t.value?(v(),P(_e,ke(K({key:0},n.$tooltipAttr)),{default:s(()=>[Z(R(i(r)),1)]),_:1},16)):ee("",!0)],36))}};var bn=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"}));const kn={key:0},Sn={key:1},_n={key:0},xn={key:1},wn={key:0},$n={key:1},Cn={__name:"TableTd",props:{props:Object,fixedObj:Object,selection:String,rowClick:Function,cellClick:Function,rowCls:[String,Function]},setup(e){const l=e,t="qx-fixed-column-td-",a=B(null),r=h(()=>{const{cols:y}=l.props||{};return y.filter(g=>!["index","menu"].includes(g.name)&&g.fixed==="left")}),o=h(()=>{const{cols:y}=l.props||{};return y.filter(g=>!["index","menu"].includes(g.name)&&!g.fixed)}),n=h(()=>{const{cols:y}=l.props||{};return y.filter(g=>!["index","menu"].includes(g.name)&&g.fixed==="right")}),d=h(()=>(y={})=>{var b;const g=(b=l.fixedObj)==null?void 0:b[y.name];if(g)return{left:g}}),c=h(()=>(y={})=>{var b;const g=(b=l.fixedObj)==null?void 0:b[y.name];if(g)return{right:g}}),$=h(()=>(y={})=>!y.tagColors||Q(y.value)?"primary":y.tagColors[y.value]||"primary"),k=y=>{const{row:g}=l.props||{};if(y.cellClick)return y.cellClick(g);if(l.cellClick)return l.cellClick(g)},L=h(()=>y=>{let g="";return y.fixed&&(g=`${t}${y.name} `),y.cellClick||l.cellClick?g+"cursor-pointer text-primary":l.rowClick?g+"cursor-pointer":y.className?g+" "+y.className:g}),C=be("isDense",!0),N=h(()=>C.value?l.selection?"36px":0:l.selection?"52px":0);return(y,g)=>(v(),P(ul,{ref_key:"TableTD",ref:a,class:fe(i(ql)(e.rowCls,e.props)),props:e.props,onClick:g[0]||(g[0]=b=>e.rowClick&&e.rowClick(e.props))},{default:s(()=>[e.selection?(v(),P(Qe,{key:0,class:"qx-table--selection-td"},{default:s(()=>[G(y.$slots,"selection",{props:e.props})]),_:3})):ee("",!0),p(Qe,{key:"index",props:e.props,style:we({left:i(N)}),class:"qx-table--index-td"},{default:s(()=>[Z(R(e.props.rowIndex+1),1)]),_:1},8,["props","style"]),(v(!0),A(ie,null,de(i(r),b=>(v(),P(Qe,{key:b.name,class:fe(i(L)(b)),props:e.props,style:we(i(d)(b)),onClick:j=>k(b)},{default:s(()=>[b.slot?(v(),A("div",kn,[G(y.$slots,b.field)])):(v(),A("div",Sn,[b.useTag?(v(),P(ft,{key:0,color:i($)(b),outline:"",square:"","text-color":"white"},{default:s(()=>[Z(R(i(Fe)(b)),1)]),_:2},1032,["color"])):(v(),P(Ve,{key:1,rowsNum:b.rowsNum||3},{default:s(()=>[Z(R(i(Fe)(b)),1)]),_:2},1032,["rowsNum"]))]))]),_:2},1032,["class","props","style","onClick"]))),128)),(v(!0),A(ie,null,de(i(o),b=>(v(),P(Qe,{key:b.name,class:fe(i(L)(b)),props:e.props,onClick:j=>k(b)},{default:s(()=>[b.slot?(v(),A("div",_n,[G(y.$slots,b.field)])):(v(),A("div",xn,[b.useTag?(v(),P(ft,{key:0,color:i($)(b),outline:"",square:"","text-color":"white"},{default:s(()=>[Z(R(i(Fe)(b)),1)]),_:2},1032,["color"])):(v(),P(Ve,{key:1,rowsNum:b.rowsNum||3},{default:s(()=>[Z(R(i(Fe)(b)),1)]),_:2},1032,["rowsNum"]))]))]),_:2},1032,["class","props","onClick"]))),128)),(v(!0),A(ie,null,de(i(n),b=>(v(),P(Qe,{key:b.name,class:fe(i(L)(b)),props:e.props,style:we(i(c)(b)),onClick:j=>k(b)},{default:s(()=>[b.slot?(v(),A("div",wn,[G(y.$slots,b.field)])):(v(),A("div",$n,[b.useTag?(v(),P(ft,{key:0,color:i($)(b),outline:"",square:"","text-color":"white"},{default:s(()=>[Z(R(i(Fe)(b)),1)]),_:2},1032,["color"])):(v(),P(Ve,{key:1,rowsNum:b.rowsNum||3},{default:s(()=>[Z(R(i(Fe)(b)),1)]),_:2},1032,["rowsNum"]))]))]),_:2},1032,["class","props","style","onClick"]))),128)),p(Qe,{key:"menu",props:e.props,class:"qx-table--menu-td"},{default:s(()=>[G(y.$slots,"menu")]),_:3},8,["props"])]),_:3},8,["class","props"]))}},Vn={__name:"TableTh",props:{index:Number,props:Object,columns:Array,fixedObj:Object,selection:String,headerClick:Function,headerCellClick:Function},setup(e){const l=e,t="qx-fixed-column-",a=be("isDense",!0),r=B(null),o=B({}),n=()=>{o.value=l.fixedObj||{}};oe(se(l,"fixedObj"),()=>{n()},{immediate:!0});const d=h(()=>l.index===0),c=h(()=>a.value?l.selection?"36px":0:l.selection?"52px":0),$=h(()=>(l.columns||[]).filter(F=>!["index","menu"].includes(F.name)&&F.fixed==="left")),k=h(()=>(l.columns||[]).filter(F=>!["index","menu"].includes(F.name)&&!F.fixed)),L=h(()=>(l.columns||[]).filter(F=>!["index","menu"].includes(F.name)&&F.fixed==="right")),C=h(()=>{if(!r.value)return{left:0};const F=r.value.$el.querySelector(".qx-table--index");return F?{left:((Ne.offset(F)||{}).left||0)-parseInt(Ne.style(F,"left"))}:{left:0}}),N=h(()=>(F={})=>{if(o.value[F.name])return{left:o.value[F.name]};if(!r.value)return;const z=r.value.$el.querySelector(`.${t}${F.name}`);if(!z)return;const u=`${Ne.offset(z).left-C.value.left}px`;return o.value[F.name]=u,{left:u}}),y=h(()=>{if(!r.value)return{width:0};const F=r.value.$el.querySelector(".qx-table--menu");return F?{width:Ne.width(F)}:{width:0}}),g=h(()=>{if(!r.value)return 0;let F=y.value.width;for(const z of L.value){const u=r.value.$el.querySelector(`.${t}${z.name}`);u&&(F+=Ne.width(u))}return F}),b=h(()=>{let F=0;return(z={})=>{if(o.value[z.name])return{right:o.value[z.name]};if(!r.value)return;const u=r.value.$el.querySelector(`.${t}${z.name}`);if(!u)return;F+=Ne.width(u);const q=`${g.value-F}px`;return o.value[z.name]=q,{right:q}}}),j=h(()=>(l.columns||[]).find(F=>F.name==="menu")||{}),V=h(()=>F=>{if(Q(F.children))return l.props}),O=h(()=>F=>{let z="";return F.fixed&&(z=`${t}${F.name} `),F.headerClick||l.headerCellClick?z+"cursor-pointer text-primary":l.headerClick?z+"cursor-pointer":z}),M=F=>{if(F.headerClick)return F.headerClick(F);if(l.headerCellClick)return l.headerCellClick(F)},E=ze({class:"text-subtitle1 text-capitalize"});return(F,z)=>(v(),P(ul,{ref_key:"TableTH",ref:r,class:fe(i(d)?"":"non-first-row"),props:e.props,onClick:z[0]||(z[0]=u=>e.headerClick&&e.headerClick(e.props))},{default:s(()=>[e.selection&&i(d)?(v(),P(De,{key:"selection",class:"qx-table--selection",rowspan:"100%"},{default:s(()=>[e.selection==="multiple"?G(F.$slots,"selection",{key:0,props:e.props}):ee("",!0)]),_:3})):ee("",!0),i(d)?(v(),P(De,{key:"index",props:e.props,style:we({left:i(c)}),class:"qx-table--index",rowspan:"100%"},{default:s(()=>[ue("span",ke(Ee(E)),"#",16)]),_:1},8,["props","style"])):ee("",!0),(v(!0),A(ie,null,de(i($),u=>(v(),P(De,{key:u.name,class:fe(i(O)(u)),colSpan:u.colSpan,props:i(V)(u),rowSpan:u.rowSpan,style:we(i(N)(u)),onClick:q=>M(u)},{default:s(()=>[u.headerSlot?(v(),A("span",ke(K({key:0},E)),[G(F.$slots,u.field+"H",{row:u})],16)):(v(),A("span",ke(K({key:1},E)),R(u.label),17))]),_:2},1032,["class","colSpan","props","rowSpan","style","onClick"]))),128)),(v(!0),A(ie,null,de(i(k),u=>(v(),P(De,{key:u.name,class:fe(i(O)(u)),colSpan:u.colSpan,props:i(V)(u),rowSpan:u.rowSpan,onClick:q=>M(u)},{default:s(()=>[u.headerSlot?(v(),A("span",ke(K({key:0},E)),[G(F.$slots,u.field+"H",{row:u})],16)):(v(),A("span",ke(K({key:1},E)),R(u.label),17))]),_:2},1032,["class","colSpan","props","rowSpan","onClick"]))),128)),(v(!0),A(ie,null,de(i(L),u=>(v(),P(De,{key:u.name,class:fe(i(O)(u)),colSpan:u.colSpan,props:i(V)(u),rowSpan:u.rowSpan,style:we(i(b)(u)),onClick:q=>M(u)},{default:s(()=>[u.headerSlot?(v(),A("span",ke(K({key:0},E)),[G(F.$slots,u.field+"H",{row:u})],16)):(v(),A("span",ke(K({key:1},E)),R(u.label),17))]),_:2},1032,["class","colSpan","props","rowSpan","style","onClick"]))),128)),i(d)?(v(),P(De,{key:"menu",props:e.props,class:"qx-table--menu",rowspan:"100%"},{default:s(()=>[ue("span",ke(Ee(E)),R(i(j).label),17)]),_:1},8,["props"])):ee("",!0)]),_:3},8,["class","props"]))}},Tn={class:"full-width row justify-between"},jn={class:"q-gutter-x-sm row items-center"},Bn={key:0,class:"q-gutter-x-sm row items-center"},qn={__name:"TableTop",props:{props:Object,grid:Boolean,rightBtn:{type:Boolean,default:!0},columns:{type:Array,default(){return[]}},gridBtn:Boolean,multiColumn:Array,searchBtn:Boolean,isFullscreen:Boolean,dynamicColumns:Array},emits:["refresh","update:isFullscreen","update:grid","update:dynamicColumns"],setup(e,{emit:l}){const t=e,a=be("BgToColor"),r=be("isDense",!0),o=B(!1),n=B(t.dynamicColumns||[]),d=h(()=>{var V;return((V=t.multiColumn)==null?void 0:V.length)===1});Je(()=>{o.value=!0});const c=h(()=>V=>V?"view_list":"grid_view"),$=h(()=>V=>V.inFullscreen?"fullscreen_exit":"crop_free"),k=h(()=>t.columns.filter(V=>!V.required).map(V=>({label:V.label,value:V.name}))),L={backgroundColor:"transparent",opacity:0},C=h(()=>({round:!0,dense:r.value,color:"primary",textColor:a("primary")}));zt(()=>l("update:dynamicColumns",n.value));const N=()=>{t.dynamicColumns&&(n.value=[...t.dynamicColumns])},y=()=>l("refresh"),g=()=>l("update:grid",!t.grid),b=()=>o.value=!o.value,j=V=>{l("update:isFullscreen",!t.isFullscreen),V.toggleFullscreen()};return(V,O)=>(v(),A(ie,null,[e.searchBtn?(v(),P(sl,{key:0,modelValue:o.value,"onUpdate:modelValue":O[0]||(O[0]=M=>o.value=M),class:"full-width"},{default:s(()=>[G(V.$slots,"top")]),_:3},8,["modelValue"])):ee("",!0),ue("div",Tn,[ue("div",jn,[G(V.$slots,"menuLeft")]),p(Mt),e.rightBtn?(v(),A("div",Bn,[G(V.$slots,"menuRight",{btnAttr:i(C)}),p(ae,K({class:"q-btn-refresh",icon:"cached"},i(C),{onClick:y}),{default:s(()=>[p(_e,K({class:"text-no-wrap"},V.$tooltipAttr),{default:s(()=>[Z(R(V.$t("Refresh")),1)]),_:1},16)]),_:1},16),e.gridBtn&&!V.$q.screen.xs?(v(),P(ae,K({key:0,icon:i(c)(e.grid)},i(C),{onClick:g}),{default:s(()=>[p(_e,K({class:"text-no-wrap"},V.$tooltipAttr),{default:s(()=>[Z(R(e.grid?V.$t("List"):V.$t("Grid")),1)]),_:1},16)]),_:1},16,["icon"])):ee("",!0),p(ae,K({icon:i($)(e.props)},i(C),{onClick:O[1]||(O[1]=M=>j(e.props))}),{default:s(()=>[p(_e,K({class:"text-no-wrap"},V.$tooltipAttr),{default:s(()=>[Z(R(e.props.inFullscreen?V.$t("ExitFullScreen"):V.$t("FullScreen")),1)]),_:1},16)]),_:1},16,["icon"]),e.searchBtn?(v(),P(ae,K({key:1,icon:"search"},i(C),{onClick:b}),{default:s(()=>[p(_e,K({class:"text-no-wrap"},V.$tooltipAttr),{default:s(()=>[Z(R(V.$t("Search")+V.$t("ShowHide")),1)]),_:1},16)]),_:1},16)):ee("",!0),i(d)?(v(),P(ae,K({key:2,icon:"tune"},i(C),{onClick:N}),{default:s(()=>[p(_e,K({class:"text-no-wrap"},V.$tooltipAttr),{default:s(()=>[Z(R(V.$t("Column")+V.$t("ShowHide")),1)]),_:1},16),p(Xe,{offset:[10,10],anchor:"bottom left",breakpoint:"0",class:"q-pa-md dynamic-column-popup",self:"top left","transition-hide":"jump-up","transition-show":"jump-down"},{default:s(()=>[p(Bt,{"thumb-style":L,visible:!1,class:"fit"},{default:s(()=>[p(Ot,{modelValue:n.value,"onUpdate:modelValue":O[2]||(O[2]=M=>n.value=M),options:i(k),type:"checkbox"},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1},16)):ee("",!0)])):ee("",!0)])],64))}},Ln={class:"full-width text-center text-italic text-body2"},Nn={class:"full-width text-center text-italic text-body2"},Fn={class:"qx-table-bottom row justify-between"},Mn={class:"row q-gutter-x-sm items-center"},On={key:0,class:"selected-tips text-subtitle2"},En={key:0,class:"q-gutter-x-sm row items-center"},zn={class:"text-subtitle2"},Ll={__name:"QxTable",props:{data:Array,option:Object,selected:Array,loading:Boolean,rowClick:Function,cellClick:Function,formatData:Function,headerClick:Function,headerCellClick:Function,rowKey:[String,Function],rowCls:[String,Function],remoteData:[Function,Object]},emits:["update:selected","update:loading"],setup(e,{expose:l,emit:t}){const a=e,r=B(null),o=qe(),n=B(a.data||[]),d=h(()=>{const{index:D=!0,column:le=[],menu:x,menuWidth:T=80,menuText:m=J.t("Operation")}=a.option||{},X=xe(le);if(D){const U="width: 50px; min-width: 50px;";X.unshift({name:"index",label:"#",showColumn:!0,headerStyle:U,style:U,align:"center",field:"index"})}if(x){const U=`width: ${T}px; min-width: ${T}px`;X.push({name:"menu",label:m,headerStyle:U,showColumn:!0,style:U,align:"center",field:"menu"})}return X}),c=B({}),$=B([]),k=h(()=>mn(d.value)),L=h(()=>{var D;return jl((D=a.option)==null?void 0:D.align,d.value)}),C=B(!1),N=B(!1),y=B(!1),g=h(()=>n.value.length>200),b=h(()=>{if(!g.value||!r.value)return 0;const D=r.value.$el.querySelector("thead");return D?Ne.height(D):0}),j=h(()=>{const{rightBtn:D}=a.option||{};return D!==!1}),V=h(()=>!n.value.length||z.value.length?!1:!(o.bottomLeft||M.value)),O=h(()=>{const{remoteData:D}=a;if(typeof D=="function")return D();if(typeof D=="object")return D}),M=h(()=>{const{page:D}=a.option||{};return D!==!1||O.value}),E=B({page:1,rowsPerPage:M.value?20:0,rowsNumber:M.value?0:void 0,sortBy:"",descending:!1}),F=h(()=>{const D=E.value.rowsNumber/(E.value.rowsPerPage||1);return Math.ceil(D)||1}),z=B([]),u=h(()=>{var D;return(D=a.option)==null?void 0:D.selection}),q=()=>{z.value!==a.selected&&(z.value=a.selected||[])},I=()=>ye(()=>t("update:selected",z.value));oe(()=>a.selected,()=>q(),{immediate:!0});const H=h(()=>{if(y.value)return;const{height:D}=a.option||{};return D?{"max-height":D}:{}}),S=h(()=>D=>`${D.field}H`),W=h(()=>(D=[],le="")=>le==="H"?D.filter(x=>x.headerSlot):D.filter(x=>x.slot)),f=D=>$.value=D.filter(le=>!le.required).map(le=>le.name);zt(()=>ye(()=>f(L.value)));const _=(D,le)=>{a.formatData&&typeof formatData=="function"?a.formatData(D,E,n,N):(n.value=[],ye(()=>{n.value=D.rows||D,E.value.page=+(D.pageNum||1),E.value.rowsNumber=+(D.total||0),le&&le(),N.value=!1,t("update:loading",!1)}))},w=Zl((D={pagination:E.value})=>{const{sortBy:le,descending:x}=D.pagination;if(E.value.sortBy=le,E.value.descending=x,!O.value){n.value=a.data||[];return}O.value.clearSelected&&($e(),delete O.value.clearSelected),N.value=!0,t("update:loading",!0);const T=Date.now()+1e3,m=xe(O.value),X=m.dicMethod==="get"?Pt:ut;m.params=m.params||{},m.params.pageNum=E.value.page,m.params.pageSize=E.value.rowsPerPage,X(m.dicUrl,m.params,U=>{const ne=T-Date.now();if(ne>0){let ce=setTimeout(()=>{_(U,m.done),clearTimeout(ce),ce=null},ne)}else _(U,m.done)},()=>{n.value=[],N.value=!1,t("update:loading",!1)})},1e3);oe(()=>a.data,()=>w()),oe(()=>a.remoteData,()=>w());const Y=h(()=>[{label:`5${J.t("ItemPage")}`,value:5},{label:`10${J.t("ItemPage")}`,value:10},{label:`20${J.t("ItemPage")}`,value:20},{label:`50${J.t("ItemPage")}`,value:50},{label:`100${J.t("ItemPage")}`,value:100}]),me=ze({outlined:!0,"options-dense":!0,dense:!0,options:Y,"emit-value":!0,"map-options":!0}),$e=()=>{r.value&&r.value.clearSelection(),t("update:selected",[])};return l({clearSelection:$e}),(D,le)=>{var x;return v(),P(Yl,{ref_key:"QxTable",ref:r,pagination:E.value,"onUpdate:pagination":le[9]||(le[9]=T=>E.value=T),columns:i(L),grid:!i(g)&&(C.value||D.$q.screen.xs),"hide-bottom":i(V),loading:e.loading||N.value,"row-key":(x=e.rowKey)!=null?x:"id",rows:n.value,style:we(i(H)),"virtual-scroll":i(g),"virtual-scroll-sticky-size-start":i(b),"visible-columns":$.value,bordered:"",class:"qx-table",dense:"","hide-pagination":"",separator:"cell","wrap-cells":"",onRequest:i(w),onSelection:I},{top:s(T=>[p(qn,{dynamicColumns:$.value,"onUpdate:dynamicColumns":le[0]||(le[0]=m=>$.value=m),grid:C.value,"onUpdate:grid":le[1]||(le[1]=m=>C.value=m),isFullscreen:y.value,"onUpdate:isFullscreen":le[2]||(le[2]=m=>y.value=m),columns:i(L),gridBtn:!i(g),multiColumn:i(k),props:T,rightBtn:i(j),searchBtn:!!i(o).top,onRefresh:i(w)},Se({menuLeft:s(()=>[G(D.$slots,"menuLeft",{selected:z.value})]),menuRight:s(m=>[G(D.$slots,"menuRight",{btnAttr:m,props:T})]),_:2},[i(o).top?{name:"top",fn:s(()=>[G(D.$slots,"top",{props:T}),p(it)]),key:"0"}:void 0]),1032,["dynamicColumns","grid","isFullscreen","columns","gridBtn","multiColumn","props","rightBtn","searchBtn","onRefresh"])]),header:s(T=>[(v(!0),A(ie,null,de(i(k),(m,X)=>(v(),P(Vn,{key:X,fixedObj:c.value,"onUpdate:fixedObj":le[3]||(le[3]=U=>c.value=U),columns:m,"header-cell-click":e.headerCellClick,"header-click":e.headerClick,index:X,props:T,selection:i(u)},Se({selection:s(()=>[p(mt,{modelValue:T.selected,"onUpdate:modelValue":U=>T.selected=U,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},[de(i(W)(m,"H"),U=>({name:i(S)(U),fn:s(()=>[G(D.$slots,i(S)(U))])}))]),1032,["fixedObj","columns","header-cell-click","header-click","index","props","selection"]))),128))]),body:s(T=>[p(Cn,{fixedObj:c.value,"onUpdate:fixedObj":le[4]||(le[4]=m=>c.value=m),"cell-click":e.cellClick,props:T,"row-click":e.rowClick,"row-cls":e.rowCls,selection:i(u)},Se({selection:s(()=>[p(mt,{modelValue:T.selected,"onUpdate:modelValue":m=>T.selected=m,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),menu:s(()=>[G(D.$slots,"menu",{index:T.rowIndex,row:T.row})]),_:2},[de(i(W)(T.cols),m=>({name:m.field,fn:s(()=>[m.slot?G(D.$slots,m.field,{key:0,index:T.rowIndex,row:T.row}):ee("",!0)])}))]),1032,["fixedObj","cell-click","props","row-click","row-cls","selection"])]),item:s(T=>[p(yn,{"cell-click":e.cellClick,"header-cell-click":e.headerCellClick,"header-click":e.headerClick,props:T,"row-click":e.rowClick,"row-cls":e.rowCls,selection:i(u)},Se({selection:s(()=>[p(mt,{modelValue:T.selected,"onUpdate:modelValue":m=>T.selected=m,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),menu:s(()=>[G(D.$slots,"menu",{index:T.rowIndex,row:T.row})]),_:2},[de(i(W)(T.cols),m=>({name:m.field,fn:s(()=>[m.slot?G(D.$slots,m.field,{key:0,index:T.rowIndex,row:T.row}):ee("",!0)])}))]),1032,["cell-click","header-cell-click","header-click","props","row-click","row-cls","selection"])]),"no-data":s(({icon:T,message:m})=>[ue("div",Ln,[ue("div",Nn,[p(pe,{name:T,size:"1.5rem"},null,8,["name"]),Z(" "+R(m),1)])])]),loading:s(()=>[p(Ae,{showing:""},{default:s(()=>[p(Ze,{color:"primary",size:"3em"})]),_:1})]),bottom:s(()=>[ue("div",Fn,[ue("div",Mn,[z.value.length?(v(),A("span",On,[Z(R(D.$t("SelectedTips",[z.value.length]))+" ",1),p(ae,{label:D.$t("Empty"),color:"primary",flat:"",padding:"0",onClick:$e},null,8,["label"])])):ee("",!0),G(D.$slots,"bottomLeft")]),i(M)?(v(),A("div",En,[ue("span",zn,R(D.$t("Totals"))+": "+R(E.value.rowsNumber||0),1),p(dl,K({modelValue:E.value.rowsPerPage,"onUpdate:modelValue":le[5]||(le[5]=T=>E.value.rowsPerPage=T)},me,{"onUpdate:modelValue":le[6]||(le[6]=T=>i(w)())}),null,16,["modelValue"]),p(Gl,{modelValue:E.value.page,"onUpdate:modelValue":[le[7]||(le[7]=T=>E.value.page=T),le[8]||(le[8]=T=>i(w)())],max:i(F),"max-pages":6},null,8,["modelValue","max"])])):ee("",!0)])]),_:3},8,["pagination","columns","grid","hide-bottom","loading","row-key","rows","style","virtual-scroll","virtual-scroll-sticky-size-start","visible-columns","onRequest"])}}};var Pn=Object.freeze(Object.defineProperty({__proto__:null,default:Ll},Symbol.toStringTag,{value:"Module"}));const Un=["none","strict","leaf","leaf-filtered"];var al=Xl({name:"QTree",props:{...Jl,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Un.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazy-load","after-show","after-hide"],setup(e,{slots:l,emit:t}){const{proxy:a}=ha(),{$q:r}=a,o=ea(e,r),n=B({}),d=B(e.ticked||[]),c=B(e.expanded||[]);let $={};pa(()=>{$={}});const k=h(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(o.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),L=h(()=>e.selected!==void 0),C=h(()=>e.icon||r.iconSet.tree.icon),N=h(()=>e.controlColor||e.color),y=h(()=>e.textColor!==void 0?` text-${e.textColor}`:""),g=h(()=>{const x=e.selectedColor||e.color;return x?` text-${x}`:""}),b=h(()=>e.filterMethod!==void 0?e.filterMethod:(x,T)=>{const m=T.toLowerCase();return x[e.labelKey]&&x[e.labelKey].toLowerCase().indexOf(m)>-1}),j=h(()=>{const x={},T=(m,X)=>{const U=m.tickStrategy||(X?X.tickStrategy:e.tickStrategy),ne=m[e.nodeKey],ce=m[e.childrenKey]&&m[e.childrenKey].length>0,Re=m.disabled!==!0&&L.value===!0&&m.selectable!==!1,ge=m.disabled!==!0&&m.expandable!==!1,El=U!=="none",dt=U==="strict",It=U==="leaf-filtered",xt=U==="leaf"||U==="leaf-filtered";let wt=m.disabled!==!0&&m.tickable!==!1;xt===!0&&wt===!0&&X&&X.tickable!==!0&&(wt=!1);let Ie=m.lazy;Ie===!0&&n.value[ne]!==void 0&&Array.isArray(m[e.childrenKey])===!0&&(Ie=n.value[ne]);const re={key:ne,parent:X,isParent:ce,lazy:Ie,disabled:m.disabled,link:m.disabled!==!0&&(Re===!0||ge===!0&&(ce===!0||Ie===!0)),children:[],matchesFilter:e.filter?b.value(m,e.filter):!0,selected:ne===e.selected&&Re===!0,selectable:Re,expanded:ce===!0?c.value.includes(ne):!1,expandable:ge,noTick:m.noTick===!0||dt!==!0&&Ie&&Ie!=="loaded",tickable:wt,tickStrategy:U,hasTicking:El,strictTicking:dt,leafFilteredTicking:It,leafTicking:xt,ticked:dt===!0?d.value.includes(ne):ce===!0?!1:d.value.includes(ne)};if(x[ne]=re,ce===!0&&(re.children=m[e.childrenKey].map(ve=>T(ve,re)),e.filter&&(re.matchesFilter!==!0?re.matchesFilter=re.children.some(ve=>ve.matchesFilter):re.noTick!==!0&&re.disabled!==!0&&re.tickable===!0&&It===!0&&re.children.every(ve=>ve.matchesFilter!==!0||ve.noTick===!0||ve.tickable!==!0)===!0&&(re.tickable=!1)),re.matchesFilter===!0&&(re.noTick!==!0&&dt!==!0&&re.children.every(ve=>ve.noTick)===!0&&(re.noTick=!0),xt))){if(re.ticked=!1,re.indeterminate=re.children.some(ve=>ve.indeterminate===!0),re.tickable=re.tickable===!0&&re.children.some(ve=>ve.tickable),re.indeterminate!==!0){const ve=re.children.reduce((Qt,zl)=>zl.ticked===!0?Qt+1:Qt,0);ve===re.children.length?re.ticked=!0:ve>0&&(re.indeterminate=!0)}re.indeterminate===!0&&(re.indeterminateNextState=re.children.every(ve=>ve.tickable!==!0||ve.ticked!==!0))}return re};return e.nodes.forEach(m=>T(m,null)),x});oe(()=>e.ticked,x=>{d.value=x}),oe(()=>e.expanded,x=>{c.value=x});function V(x){const T=[].reduce,m=(X,U)=>{if(X||!U)return X;if(Array.isArray(U)===!0)return T.call(Object(U),m,X);if(U[e.nodeKey]===x)return U;if(U[e.childrenKey])return m(null,U[e.childrenKey])};return m(null,e.nodes)}function O(){return d.value.map(x=>V(x))}function M(){return c.value.map(x=>V(x))}function E(x){return x&&j.value[x]?j.value[x].expanded:!1}function F(){e.expanded!==void 0?t("update:expanded",[]):c.value=[]}function z(){const x=c.value,T=m=>{m[e.childrenKey]&&m[e.childrenKey].length>0&&m.expandable!==!1&&m.disabled!==!0&&(x.push(m[e.nodeKey]),m[e.childrenKey].forEach(T))};e.nodes.forEach(T),e.expanded!==void 0?t("update:expanded",x):c.value=x}function u(x,T,m=V(x),X=j.value[x]){if(X.lazy&&X.lazy!=="loaded"){if(X.lazy==="loading")return;n.value[x]="loading",Array.isArray(m[e.childrenKey])!==!0&&(m[e.childrenKey]=[]),t("lazy-load",{node:m,key:x,done:U=>{n.value[x]="loaded",m[e.childrenKey]=Array.isArray(U)===!0?U:[],ye(()=>{const ne=j.value[x];ne&&ne.isParent===!0&&q(x,!0)})},fail:()=>{delete n.value[x],m[e.childrenKey].length===0&&delete m[e.childrenKey]}})}else X.isParent===!0&&X.expandable===!0&&q(x,T)}function q(x,T){let m=c.value;const X=e.expanded!==void 0;if(X===!0&&(m=m.slice()),T){if(e.accordion&&j.value[x]){const U=[];j.value[x].parent?j.value[x].parent.children.forEach(ne=>{ne.key!==x&&ne.expandable===!0&&U.push(ne.key)}):e.nodes.forEach(ne=>{const ce=ne[e.nodeKey];ce!==x&&U.push(ce)}),U.length>0&&(m=m.filter(ne=>U.includes(ne)===!1))}m=m.concat([x]).filter((U,ne,ce)=>ce.indexOf(U)===ne)}else m=m.filter(U=>U!==x);X===!0?t("update:expanded",m):c.value=m}function I(x){return x&&j.value[x]?j.value[x].ticked:!1}function H(x,T){let m=d.value;const X=e.ticked!==void 0;X===!0&&(m=m.slice()),T?m=m.concat(x).filter((U,ne,ce)=>ce.indexOf(U)===ne):m=m.filter(U=>x.includes(U)===!1),X===!0&&t("update:ticked",m)}function S(x,T,m){const X={tree:a,node:x,key:m,color:e.color,dark:o.value};return Wt(X,"expanded",()=>T.expanded,U=>{U!==T.expanded&&u(m,U)}),Wt(X,"ticked",()=>T.ticked,U=>{U!==T.ticked&&H([m],U)}),X}function W(x){return(e.filter?x.filter(T=>j.value[T[e.nodeKey]].matchesFilter):x).map(T=>Y(T))}function f(x){if(x.icon!==void 0)return he(pe,{class:"q-tree__icon q-mr-sm",name:x.icon,color:x.iconColor});const T=x.img||x.avatar;if(T)return he("img",{class:`q-tree__${x.img?"img":"avatar"} q-mr-sm`,src:T})}function _(){t("after-show")}function w(){t("after-hide")}function Y(x){const T=x[e.nodeKey],m=j.value[T],X=x.header&&l[`header-${x.header}`]||l["default-header"],U=m.isParent===!0?W(x[e.childrenKey]):[],ne=U.length>0||m.lazy&&m.lazy!=="loaded";let ce=x.body&&l[`body-${x.body}`]||l["default-body"];const Re=X!==void 0||ce!==void 0?S(x,m,T):null;return ce!==void 0&&(ce=he("div",{class:"q-tree__node-body relative-position"},[he("div",{class:y.value},[ce(Re)])])),he("div",{key:T,class:`q-tree__node relative-position q-tree__node--${ne===!0?"parent":"child"}`},[he("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(m.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(m.selected===!0?" q-tree__node--selected":"")+(m.disabled===!0?" q-tree__node--disabled":""),tabindex:m.link===!0?0:-1,onClick:ge=>{$e(x,m,ge)},onKeypress(ge){ta(ge)!==!0&&(ge.keyCode===13?$e(x,m,ge,!0):ge.keyCode===32&&D(x,m,ge,!0))}},[he("div",{class:"q-focus-helper",tabindex:-1,ref:ge=>{$[m.key]=ge}}),m.lazy==="loading"?he(la,{class:"q-tree__spinner",color:N.value}):ne===!0?he(pe,{class:"q-tree__arrow"+(m.expanded===!0?" q-tree__arrow--rotate":""),name:C.value,onClick(ge){D(x,m,ge)}}):null,m.hasTicking===!0&&m.noTick!==!0?he(mt,{class:"q-tree__tickbox",modelValue:m.indeterminate===!0?null:m.ticked,color:N.value,dark:o.value,dense:!0,keepColor:!0,disable:m.tickable!==!0,onKeydown:Ht,"onUpdate:modelValue":ge=>{le(m,ge)}}):null,he("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(m.selected===!0?g.value:y.value)},[X?X(Re):[f(x),he("div",x[e.labelKey])]])]),ne===!0?e.noTransition===!0?he("div",{class:"q-tree__node-collapsible"+y.value,key:`${T}__q`},[ce,he("div",{class:"q-tree__children"+(m.disabled===!0?" q-tree__node--disabled":"")},m.expanded?U:null)]):he(aa,{duration:e.duration,onShow:_,onHide:w},()=>Ke(he("div",{class:"q-tree__node-collapsible"+y.value,key:`${T}__q`},[ce,he("div",{class:"q-tree__children"+(m.disabled===!0?" q-tree__node--disabled":"")},U)]),[[yl,m.expanded]])):ce])}function me(x){const T=$[x];T&&T.focus()}function $e(x,T,m,X){X!==!0&&me(T.key),L.value&&T.selectable?e.noSelectionUnset===!1?t("update:selected",T.key!==e.selected?T.key:null):T.key!==e.selected&&t("update:selected",T.key===void 0?null:T.key):D(x,T,m,X),typeof x.handler=="function"&&x.handler(x)}function D(x,T,m,X){m!==void 0&&Ht(m),X!==!0&&me(T.key),u(T.key,!T.expanded,x,T)}function le(x,T){if(x.indeterminate===!0&&(T=x.indeterminateNextState),x.strictTicking)H([x.key],T);else if(x.leafTicking){const m=[],X=U=>{U.isParent?(T!==!0&&U.noTick!==!0&&U.tickable===!0&&m.push(U.key),U.leafTicking===!0&&U.children.forEach(X)):U.noTick!==!0&&U.tickable===!0&&(U.leafFilteredTicking!==!0||U.matchesFilter===!0)&&m.push(U.key)};X(x),H(m,T)}}return e.defaultExpandAll===!0&&z(),Object.assign(a,{getNodeByKey:V,getTickedNodes:O,getExpandedNodes:M,isExpanded:E,collapseAll:F,expandAll:z,setExpanded:u,isTicked:I,setTicked:H,meta:j}),()=>{const x=W(e.nodes);return he("div",{class:k.value},x.length===0?e.filter?e.noResultsLabel||r.lang.tree.noResults:e.noNodesLabel||r.lang.tree.noNodes:x)}}});const An={class:"shadow-2 rounded-borders q-pa-sm qx-tree"},Rn={class:"qx-tree-title"},In={__name:"QxTree",props:{field:String,props:Object,options:Array,dicUrl:String,rowInfo:Object,dicQuery:Object,change:Function,showWay:Boolean,loading:Boolean,strategy:String,multiple:Boolean,dicMethods:String,filterMethod:Function,noSelectionUnset:Boolean,modelValue:[String,Array]},emits:["change","getNodes","update:modelValue","update:loading"],setup(e,{expose:l,emit:t}){const a=e;gl(f=>({"6411c363":V.value.height}));const{height:r}=Ne,o=B(""),n=B(null),d=B(a.strategy||"leaf"),c=h(()=>[{label:`${J.t("CheckWayTip1")}`,value:"strict"},{label:`${J.t("CheckWayTip2")}`,value:"leaf"},{label:`${J.t("CheckWayTip3")}`,value:"leaf-filtered"}]),$=h(()=>({clearable:!0,dense:!0,placeholder:J.t("FilterKeywords"),outlined:!0})),k=ze({class:"qx-tree-group",dense:!0,inline:!0}),L=h(()=>{const{label:f="label",key:_="id",children:w="children"}=a.props||{};return{accordion:!0,childrenKey:w,labelKey:f,nodeKey:_,filter:o.value,noSelectionUnset:a.noSelectionUnset}}),C=qe(),N=B([]),y=B(""),g=B([]),b=B([]),j=B(!1),V=B({height:"calc(100% - 40px)"}),O=()=>{ye(()=>{if(!n.value)return;const f=n.value.$el.querySelector(".qx-tree-title"),_=n.value.$el.querySelector(".qx-tree-group");if(!f&&!_){let Y=40;C["tree-top"]&&(Y+=43),a.multiple&&a.showWay&&(Y+=31),V.value={height:`calc(100% - ${Math.floor(Y)}px)`};return}let w=44;f&&(w+=r(f)),_&&(w+=r(_)),V.value={height:`calc(100% - ${Math.floor(w)}px)`}})},M=()=>{ye(()=>{if(!a.multiple&&n.value){const f=n.value.getNodeByKey(y.value);if(f){g.value=(f.parentIds||"").split(",");return}}b.value.length&&!g.value.length&&(g.value=[b.value[0][L.value.nodeKey]])})},E=()=>{if(a.multiple){if(a.modelValue===N.value&&g.value.length)return;N.value=a.modelValue||[],M();return}a.modelValue===y.value&&g.value.length||(y.value=a.modelValue||"",M())},F=()=>{if(a.dicUrl){j.value=!0;const f=xe(a.dicQuery||{});z.value(a.dicUrl,f,_=>{b.value=_.rows||_,j.value=!1,t("update:loading",j.value),E()},()=>{j.value=!1,t("update:loading",j.value)});return}a.loading&&(j.value=a.loading),b.value=xe(a.options||[]),E()};oe(se(a,"modelValue"),()=>E()),oe([se(a,"options"),se(a,"dicQuery")],()=>{F()},{immediate:!0}),oe(se(a,"loading"),()=>{j.value=a.loading});const z=h(()=>a.dicMethods==="get"?Pt:ut),u=se(a,"rowInfo"),q=f=>{!u.value||(a.multiple?u.value[`SSS_${a.field}`]=f.map(_=>_[L.value.labelKey]).join(","):u.value[`SSS_${a.field}`]=f[L.value.labelKey])},I=f=>{if(d.value==="strict"){ye(()=>{const _=n.value.getTickedNodes();_&&q(_),t("update:modelValue",f),a.change?a.change(f,_):t("change",f,_)});return}ye(()=>{const _=Object.values(n.value.meta.value),w=[],Y=[];for(const me of _)(me.ticked||me.indeterminate)&&(w.push(n.value.getNodeByKey(me.key)),Y.push(me.key));N.value=Y,w&&q(w),t("update:modelValue",Y),a.change?a.change(Y,w):t("change",Y,w)})},H=f=>{ye(()=>{const _=n.value.getNodeByKey(f);_&&q(_),t("update:modelValue",f),a.change?a.change(f,_):t("change",f,_)})},S=()=>{j.value=!1,t("update:loading",j.value)};return l({getNodes:()=>{j.value=!0,d.value="strict",ye(()=>{const f=n.value.getTickedNodes();t("getNodes",f,S)})},updateSelected:H,updateTicked:I}),(f,_)=>(v(),A("div",An,[ue("div",Rn,[G(f.$slots,"tree-top",{},void 0,!0),i(C)["tree-top"]&&!(e.multiple&&e.showWay)?(v(),P(gt,{key:0,onResize:O})):ee("",!0)]),p(pt,K({modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=w=>o.value=w)},i($)),null,16,["modelValue"]),e.multiple&&e.showWay?(v(),A(ie,{key:0},[p(Ot,K({modelValue:d.value,"onUpdate:modelValue":_[1]||(_[1]=w=>d.value=w),options:i(c)},k),null,16,["modelValue","options"]),p(gt,{onResize:O})],64)):ee("",!0),e.multiple?(v(),P(i(al),K({key:1,ref_key:"QxTree",ref:n,expanded:g.value,"onUpdate:expanded":_[2]||(_[2]=w=>g.value=w),ticked:N.value,"onUpdate:ticked":_[3]||(_[3]=w=>N.value=w),"filter-method":e.filterMethod,nodes:b.value,"tick-strategy":d.value},i(L),{"onUpdate:ticked":I}),Se({_:2},[i(C).header?{name:"default-header",fn:s(w=>[G(f.$slots,"header",{prop:w},void 0,!0)]),key:"0"}:void 0,i(C).body?{name:"default-body",fn:s(w=>[G(f.$slots,"body",{prop:w},void 0,!0)]),key:"1"}:void 0]),1040,["expanded","ticked","filter-method","nodes","tick-strategy"])):(v(),P(i(al),K({key:2,ref_key:"QxTree",ref:n,expanded:g.value,"onUpdate:expanded":_[4]||(_[4]=w=>g.value=w),selected:y.value,"onUpdate:selected":_[5]||(_[5]=w=>y.value=w),"filter-method":e.filterMethod,nodes:b.value,"selected-color":"primary"},i(L),{"onUpdate:selected":H}),Se({_:2},[i(C).header?{name:"default-header",fn:s(w=>[G(f.$slots,"header",{prop:w},void 0,!0)]),key:"0"}:void 0,i(C).body?{name:"default-body",fn:s(w=>[G(f.$slots,"body",{prop:w},void 0,!0)]),key:"1"}:void 0]),1040,["expanded","selected","filter-method","nodes"])),p(Ae,{showing:j.value},{default:s(()=>[p(Ze,{color:"primary",size:"50px"})]),_:1},8,["showing"])]))}};var Nl=Cl(In,[["__scopeId","data-v-8913cd66"]]),Qn=Object.freeze(Object.defineProperty({__proto__:null,default:Nl},Symbol.toStringTag,{value:"Module"}));const Dn={__name:"QGroup",props:{type:{type:String,default:"radio"},change:Function,outlined:Boolean,readonly:Boolean,modelValue:[String,Number,Array]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=B(void 0),r=h(()=>t.type==="radio"),o=()=>{if(!(a.value===t.modelValue&&t.modelValue)){if(t.modelValue){a.value=t.modelValue;return}r.value?a.value="":a.value=[]}};oe(se(t,"modelValue"),()=>o(),{immediate:!0});const n=d=>{t.change?t.change(d):l("change",d),l("update:modelValue",d)};return(d,c)=>(v(),P(Be,{modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=$=>a.value=$),borderless:"","no-error-icon":""},Se({control:s(({id:$})=>[p(Ot,K({id:$,modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=k=>a.value=k),disable:e.readonly,type:e.type},d.$attrs,{"onUpdate:modelValue":n}),null,16,["id","modelValue","disable","type"])]),_:2},[de(Object.keys(qe()),$=>({name:$,fn:s(()=>[G(d.$slots,$)])}))]),1032,["modelValue"]))}};var Hn=Object.freeze(Object.defineProperty({__proto__:null,default:Dn},Symbol.toStringTag,{value:"Module"}));const Wn={key:0,class:"placeholder"},Kn={key:1},Gn={class:"full-width row justify-around items-start"},Yn={class:"q-month--view q-date__months-content col self-stretch justify-around row items-center"},Zn={__name:"QMonth",props:{type:String,clearable:{type:Boolean,default:!0},multiple:Boolean,placeholder:String,option:[Array,Function],lazyRules:[Boolean,String],modelValue:[String,Date,Array,Number,Object]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=new Date().getFullYear(),r=be("BgToColor"),o=B(null),n=B(void 0),d=B(!1),c=h(()=>d.value?"q-field--focused q-field--highlighted":""),$=ze({class:"col-2",dense:!0,flat:!0}),k=B(0),L=S=>+S.replace("-",""),C=h(()=>{const S=+tt.formatDate(new Date,"YYYYMM");return W=>{const f=`${y.value}-${lt.pad(W,2)}`,_=L(f);if(Q(n.value))return _===S?"text-bold text-primary":void 0;if(te(n.value)==="array")return n.value.includes(f)?`bg-primary text-bold text-${r("primary")}`:void 0;if(te(n.value)==="object"){if(k.value){const w=L(n.value.from);return w===_?w<k.value?"text-primary q-month__start_hover_month q-month__hover_month q-month__start_month":w>k.value?"text-primary q-month__end_hover_month q-month__hover_month q-month__end_month":"text-primary q-month__hover_month":w<_?_<k.value?"text-primary no-border-radius q-month__hover_month":_===k.value?"text-primary q-month__end_hover_month q-month__hover_month q-month__end_month":void 0:_>k.value?"text-primary no-border-radius q-month__hover_month":_===k.value?"text-primary q-month__start_hover_month q-month__hover_month q-month__start_month":void 0}if(n.value.from&&n.value.to){const w=L(n.value.from),Y=L(n.value.to);if(w===_&&Y===_)return`bg-primary text-bold text-${r("primary")}`;if(w===_)return`bg-primary text-bold text-${r("primary")} q-month__start_month`;if(Y===_)return`bg-primary text-bold text-${r("primary")} q-month__end_month`;if(_>w&&_<Y)return"no-border-radius q-month__range"}}if(n.value===f)return`bg-primary text-bold text-${r("primary")}`;if(_===S)return"text-primary text-bold"}}),N=S=>+tt.formatDate(S,"YYYY"),y=B(a),g=h(()=>t.multiple?!1:(t.type||"").includes("range")),b=h(()=>Q(n.value)?"":te(n.value)==="array"?n.value.join(", "):te(n.value)==="object"?`${n.value.from||"NA"}/${n.value.to||"NA"}`:n.value),j=()=>{y.value-=1},V=()=>{y.value+=1},O=()=>{if(Q(n.value)){y.value=a;return}if(te(n.value)==="array"){y.value=N(n.value[0]);return}if(te(n.value)==="object"){y.value=N(n.value.from);return}y.value=N(n.value)},M=()=>{if(n.value!==t.modelValue){if(Q(t.modelValue)){n.value=void 0;return}if(te(t.modelValue)==="date"){n.value=tt.formatDate(new Date(t.modelValue),"YYYY-MM");return}n.value=t.modelValue}};oe(se(t,"modelValue"),()=>{M()},{immediate:!0});const E=()=>{g.value&&n.value&&!n.value.to&&(n.value=void 0),o.value&&o.value.blur()},F=()=>{l("update:modelValue",n.value||""),t.lazyRules!=="ondemand"&&o.value&&o.value.validate()},z=()=>{d.value=!d.value,d.value&&O()},u=S=>{!g.value||Q(n.value)||te(n.value)==="object"&&(n.value.to||(k.value=L(`${y.value}-${lt.pad(S,2)}`)))},q=S=>{if(S=`${y.value}-${lt.pad(S,2)}`,t.multiple){Q(n.value)?n.value=[S]:n.value.push(S),l("change",n.value,S);return}if(g.value){if(Q(n.value)||n.value.to){k.value=S,n.value={from:S};return}else S<n.value.from?(n.value.to=n.value.from,n.value.from=S):n.value.to=S,k.value=0,d.value=!1,l("change",n.value,S);return}n.value=S,d.value=!1,l("change",S)},I=()=>{if(!d.value||!o.value)return;const S=o.value.$el.getBoundingClientRect(),W=window.innerHeight;(S.top>W||S.bottom<0)&&(d.value=!1)},H=()=>{d.value=!1};return Je(()=>{window.addEventListener("scroll",I,!0),window.addEventListener("resize",H,!1)}),st(()=>{window.removeEventListener("scroll",I,!0),window.removeEventListener("resize",H,!1)}),(S,W)=>(v(),P(Be,K({ref_key:"QMonth",ref:o,modelValue:n.value,"onUpdate:modelValue":W[1]||(W[1]=f=>n.value=f),autogrow:!1,class:i(c),clearable:e.clearable,"lazy-rules":"ondemand"},S.$attrs,{onFocus:z}),{control:s(()=>[i(b)?S.$attrs.readonly?(v(),A("span",Kn,R(i(b)),1)):(v(),P(Ve,{key:2},{default:s(()=>[Z(R(i(b)),1)]),_:1})):(v(),A("span",Wn,R(e.placeholder),1))]),append:s(()=>[p(pe,{name:"calendar_month"})]),default:s(()=>[p(Xe,{modelValue:d.value,"onUpdate:modelValue":W[0]||(W[0]=f=>d.value=f),offset:[0,5],anchor:"bottom left",breakpoint:"0",class:"q-month column justify-around items-start","no-parent-event":"","no-refocus":"",self:"top left",onHide:F,onBeforeHide:E},{default:s(()=>[ue("div",Gn,[p(ae,{dense:"",flat:"",icon:"chevron_left",round:"",onClick:j}),p(ae,{dense:"",flat:""},{default:s(()=>[Z(R(y.value),1)]),_:1}),p(ae,{dense:"",flat:"",icon:"chevron_right",round:"",onClick:V})]),ue("div",Yn,[(v(),A(ie,null,de(12,f=>p(ae,K({key:f,class:i(C)(f)},$,{onClick:_=>q(f),onMouseenter:_=>u(f)}),{default:s(()=>[Z(R(S.$t(`M${f}`)),1)]),_:2},1040,["class","onClick","onMouseenter"])),64))])]),_:1},8,["modelValue"])]),_:1},16,["modelValue","class","clearable"]))}};var Xn=Object.freeze(Object.defineProperty({__proto__:null,default:Zn},Symbol.toStringTag,{value:"Module"}));const Jn={__name:"QNumber",props:{rules:Array,input:Function,min:[String,Number],max:[String,Number],decimals:[String,Number],lazyRules:[Boolean,String],modelValue:[String,Number]},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,a=B(null),r=B(null),o=h(()=>t.lazyRules===!0?!1:t.lazyRules),n=h(()=>{if(t.decimals>=0)return[0,"0"].includes(t.decimals)?/^-?\d+$/:new RegExp(new RegExp("\\.\\d{0,"+t.decimals+"}/?$"))}),d=h(()=>{const k=t.rules||[];return Q(t.min)||k.push(L=>Q(L)||L>=t.min||J.t("NotLess",[t.min])),Q(t.max)||k.push(L=>Q(L)||L<=t.max||J.t("NotGreater",[t.max])),n.value&&k.push(L=>Q(L)||/^-?\d+$/.test(L)||n.value.test(L)||J.t("DecimalDigits",[t.decimals])),k}),c=()=>{t.modelValue!==r.value&&(r.value=t.modelValue,ye(()=>{a.value&&a.value.resetValidation()}))};oe(se(t,"modelValue"),()=>c(),{immediate:!0});const $=(k="")=>{t.input&&typeof t.input=="function"&&t.input(k),l("update:modelValue",k)};return(k,L)=>(v(),P(pt,K({ref_key:"QNumber",ref:a,modelValue:r.value,"onUpdate:modelValue":L[0]||(L[0]=C=>r.value=C),modelModifiers:{number:!0},"lazy-rules":i(o),rules:i(d),step:"any",title:"",type:"number"},k.$attrs,{"onUpdate:modelValue":$}),Se({_:2},[de(Object.keys(qe()),C=>({name:C,fn:s(()=>[G(k.$slots,C)])}))]),1040,["modelValue","lazy-rules","rules"]))}};var er=Object.freeze(Object.defineProperty({__proto__:null,default:Jn},Symbol.toStringTag,{value:"Module"}));const tr={key:0,class:"placeholder"},lr={key:1},ar={__name:"QSelectTree",props:{type:String,props:Object,field:String,dicUrl:String,options:Array,rowInfo:Object,clearable:{type:Boolean,default:!0},change:Function,dicQuery:Object,multiple:Boolean,dicMethods:String,placeholder:String,lazyRules:[Boolean,String],modelValue:[String,Object,Number,Array]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=B(null),r=B(null),o=B(void 0),n=B(""),d=h(()=>{const{label:O="label"}=t.props||{};return O}),c=B(!1),$=h(()=>{const O=xe(t);return O.noSelectionUnset=!0,delete O.type,delete O.change,delete O.placeholder,delete O.modelValue,O}),k=se(t,"rowInfo"),L=()=>{k.value&&(k.value[`SSS_${t.field}`]=n.value)},C=()=>{if(o.value===t.modelValue){L();return}if(Q(t.modelValue)){o.value=t.multiple?[]:"",b("",o.value);return}c.value||(c.value=!0),ye(()=>{r.value&&(t.multiple?(r.value.updateTicked(t.modelValue),c.value=!1):r.value.updateSelected(t.modelValue)),L()}),o.value=t.modelValue};oe(se(t,"modelValue"),()=>C(),{immediate:!0});const N=()=>{c.value=!c.value},y=()=>{a.value&&a.value.blur()},g=()=>{l("update:modelValue",o.value||""),t.lazyRules!=="ondemand"&&a.value&&a.value.validate()},b=(O,M)=>{Q(M)?n.value="":t.multiple?n.value=M.map(E=>E[d.value]).join(", "):n.value=M[d.value],t.multiple||(c.value=!1),t.change?t.change(O,M):l("change",O,M)},j=()=>{if(!c.value||!a.value)return;const O=a.value.$el.getBoundingClientRect(),M=window.innerHeight;(O.top>M||O.bottom<0)&&(c.value=!1)},V=()=>{c.value=!1};return Je(()=>{window.addEventListener("scroll",j,!0),window.addEventListener("resize",V,!1)}),st(()=>{window.removeEventListener("scroll",j,!0),window.removeEventListener("resize",V,!1)}),(O,M)=>(v(),P(Be,K({ref_key:"selectTree",ref:a,modelValue:o.value,"onUpdate:modelValue":M[2]||(M[2]=E=>o.value=E),clearable:e.clearable,"lazy-rules":"ondemand"},O.$attrs,{onFocus:N}),Se({control:s(()=>[n.value?O.$attrs.readonly?(v(),A("span",lr,R(n.value),1)):(v(),P(Ve,{key:2},{default:s(()=>[Z(R(n.value),1)]),_:1})):(v(),A("span",tr,R(e.placeholder),1))]),default:s(()=>[p(Xe,{modelValue:c.value,"onUpdate:modelValue":M[1]||(M[1]=E=>c.value=E),offset:[0,5],anchor:"bottom left",breakpoint:"0",fit:"","no-parent-event":"","no-refocus":"",self:"top left",onHide:g,onBeforeHide:y},{default:s(()=>[p(Nl,K({ref_key:"treeRef",ref:r,modelValue:o.value,"onUpdate:modelValue":M[0]||(M[0]=E=>o.value=E)},i($),{onChange:b}),null,16,["modelValue"])]),_:1},8,["modelValue"])]),_:2},[de(Object.keys(qe()),E=>({name:E,fn:s(()=>[G(O.$slots,E)])})),O.$attrs.readonly?void 0:{name:"append",fn:s(()=>[p(pe,{class:fe([c.value?"rotate-180":"","q-select__dropdown-icon"]),name:"arrow_drop_down"},null,8,["class"])]),key:"0"}]),1040,["modelValue","clearable"]))}};var nr=Object.freeze(Object.defineProperty({__proto__:null,default:ar},Symbol.toStringTag,{value:"Module"}));const rr={key:0,class:"placeholder"},or={key:1},ir={class:"full-height row items-center"},sr={class:"q-year--view q-date__years-content col self-stretch justify-around row items-center"},ur={class:"full-height row items-center"},dr={__name:"QYear",props:{type:String,clearable:{type:Boolean,default:!0},multiple:Boolean,placeholder:String,option:[Array,Function],lazyRules:[Boolean,String],modelValue:[String,Date,Array,Number,Object]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=new Date().getFullYear(),r=be("BgToColor"),o=B(null),n=B(void 0),d=B(!1),c=h(()=>d.value?"q-field--focused q-field--highlighted":""),$=ze({class:"col-3",dense:!0,flat:!0}),k=B(0),L=h(()=>H=>{const S=Number(N.value)+H;if(Q(n.value))return S===a?"text-bold text-primary":void 0;if(te(n.value)==="array")return n.value.includes(S)||n.value.includes(String(S))?`bg-primary text-bold text-${r("primary")}`:void 0;if(te(n.value)==="object"){if(k.value){const W=Number(n.value.from);return k.value=+k.value,W===S?W<k.value?"text-primary q-year__start_hover_year q-year__hover_year q-year__start_year":W>k.value?"text-primary q-year__end_hover_year q-year__hover_year q-year__end_year":"text-primary q-year__hover_year":W<S?S<k.value?"text-primary no-border-radius q-year__hover_year":S===k.value?"text-primary q-year__end_hover_year q-year__hover_year q-year__end_year":void 0:S>k.value?"text-primary no-border-radius q-year__hover_year":S===k.value?"text-primary q-year__start_hover_year q-year__hover_year q-year__start_year":void 0}if(n.value.from&&n.value.to){const W=Number(n.value.from),f=Number(n.value.to);if(W===S&&f===S)return`bg-primary text-bold text-${r("primary")}`;if(W===S)return`bg-primary text-bold text-${r("primary")} q-year__start_year`;if(f===S)return`bg-primary text-bold text-${r("primary")} q-year__end_year`;if(S>W&&S<f)return"no-border-radius q-year__range"}}if(Number(n.value)===S)return`bg-primary text-bold text-${r("primary")}`;if(S===a)return"text-primary text-bold"}),C=H=>H-H%20-1,N=B(C(a)),y=h(()=>t.multiple?!1:(t.type||"").includes("range")),g=h(()=>{if(Q(n.value))return"";if(te(n.value)==="array"){if(!y.value)return n.value.join(", ");let H="";for(const S of n.value)H+=`${S.from||"NA"}/${S.to||"NA"}, `;return H.slice(0,-2)}return te(n.value)==="object"?`${n.value.from||"NA"}/${n.value.to||"NA"}`:n.value}),b=()=>{N.value-=20},j=()=>{N.value+=20},V=()=>{if(Q(n.value)){N.value=C(a);return}if(te(n.value)==="array"){N.value=C(+n.value[0]);return}if(te(n.value)==="object"){N.value=C(+n.value.from);return}N.value=C(+n.value)},O=()=>{if(n.value!==t.modelValue){if(Q(t.modelValue)){n.value=void 0;return}if(te(t.modelValue)==="date"){n.value=t.modelValue.getFullYear();return}n.value=t.modelValue}};oe(se(t,"modelValue"),()=>{O()},{immediate:!0});const M=()=>{y.value&&n.value&&!n.value.to&&(n.value=void 0),o.value&&o.value.blur()},E=()=>{l("update:modelValue",n.value||""),t.lazyRules!=="ondemand"&&o.value&&o.value.validate()},F=()=>{d.value=!d.value,d.value&&V()},z=H=>{!y.value||Q(n.value)||te(n.value)==="object"&&(n.value.to||(k.value=+H.target.textContent))},u=H=>{const S=Number(N.value)+H;if(t.multiple){Q(n.value)?n.value=[S]:n.value.push(S),l("change",n.value,S);return}if(y.value){if(Q(n.value)||n.value.to){k.value=S,n.value={from:S};return}else S<n.value.from?(n.value.to=n.value.from,n.value.from=S):n.value.to=S,k.value=0,d.value=!1,l("change",n.value,S);return}n.value=S,d.value=!1,l("change",S)},q=()=>{if(!d.value||!o.value)return;const H=o.value.$el.getBoundingClientRect(),S=window.innerHeight;(H.top>S||H.bottom<0)&&(d.value=!1)},I=()=>{d.value=!1};return Je(()=>{window.addEventListener("scroll",q,!0),window.addEventListener("resize",I,!1)}),st(()=>{window.removeEventListener("scroll",q,!0),window.removeEventListener("resize",I,!1)}),(H,S)=>(v(),P(Be,K({ref_key:"QYear",ref:o,modelValue:n.value,"onUpdate:modelValue":S[1]||(S[1]=W=>n.value=W),autogrow:!1,class:i(c),clearable:e.clearable,"lazy-rules":"ondemand"},H.$attrs,{onFocus:F}),{control:s(()=>[i(g)?H.$attrs.readonly?(v(),A("span",or,R(i(g)),1)):(v(),P(Ve,{key:2},{default:s(()=>[Z(R(i(g)),1)]),_:1})):(v(),A("span",rr,R(e.placeholder),1))]),append:s(()=>[p(pe,{name:"edit_calendar"})]),default:s(()=>[p(Xe,{modelValue:d.value,"onUpdate:modelValue":S[0]||(S[0]=W=>d.value=W),offset:[0,5],anchor:"bottom left",breakpoint:"0",class:"q-year row no-wrap justify-around items-start","no-parent-event":"","no-refocus":"",self:"top left",onHide:E,onBeforeHide:M},{default:s(()=>[ue("div",ir,[p(ae,{dense:"",flat:"",icon:"chevron_left",round:"",onClick:b})]),ue("div",sr,[(v(),A(ie,null,de(21,W=>p(ae,K({key:W,class:i(L)(W)},$,{onClick:f=>u(W),onMouseenter:z}),{default:s(()=>[Z(R(N.value+W),1)]),_:2},1040,["class","onClick"])),64))]),ue("div",ur,[p(ae,{dense:"",flat:"",icon:"chevron_right",round:"",onClick:j})])]),_:1},8,["modelValue"])]),_:1},16,["modelValue","class","clearable"]))}};var cr=Object.freeze(Object.defineProperty({__proto__:null,default:dr},Symbol.toStringTag,{value:"Module"}));const fr={key:0,class:"placeholder"},mr={key:1},vr={__name:"QxDate",props:{type:String,clearable:{type:Boolean,default:!0},multiple:Boolean,placeholder:String,option:[Array,Function],lazyRules:[Boolean,String],modelValue:[String,Date,Array,Object]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=be("BgToColor"),r=B(null),o=B(void 0),n=B(!1),d=h(()=>n.value?"q-field--focused q-field--highlighted":""),c=h(()=>(t.type||"").includes("time")?"YYYY-MM-DD HH:mm":"YYYY-MM-DD"),$=h(()=>(t.type||"").includes("range")),k=h(()=>{const{multiple:O,option:M}=t,E=!(O||$.value);return{"today-btn":!0,multiple:O,range:$.value,mask:c,noUnset:E,options:M}}),L=h(()=>{if(Q(o.value))return"";if(te(o.value)==="array"){if(!$.value)return o.value.join(", ");let O="";for(const M of o.value)O+=`${M.from||"NA"}/${M.to||"NA"}, `;return O.slice(0,-2)}return te(o.value)==="object"?`${o.value.from||"NA"}/${o.value.to||"NA"}`:o.value}),C=()=>{if(o.value!==t.modelValue){if(Q(t.modelValue)){o.value=void 0;return}o.value=t.modelValue}};oe(se(t,"modelValue"),()=>{C()},{immediate:!0});const N=()=>{r.value&&r.value.blur()},y=()=>{l("update:modelValue",o.value||""),t.lazyRules!=="ondemand"&&r.value&&r.value.validate()},g=()=>{n.value=!n.value},b=O=>{l("change",O),O&&(t.multiple||(n.value=!1))},j=()=>{if(!n.value||!r.value)return;const O=r.value.$el.getBoundingClientRect(),M=window.innerHeight;(O.top>M||O.bottom<0)&&(n.value=!1)},V=()=>{n.value=!1};return Je(()=>{window.addEventListener("scroll",j,!0),window.addEventListener("resize",V,!1)}),st(()=>{window.removeEventListener("scroll",j,!0),window.removeEventListener("resize",V,!1)}),(O,M)=>(v(),P(Be,K({ref_key:"QxDate",ref:r,modelValue:o.value,"onUpdate:modelValue":M[2]||(M[2]=E=>o.value=E),class:i(d),clearable:e.clearable,"lazy-rules":"ondemand"},O.$attrs,{onFocus:g}),{control:s(()=>[i(L)?O.$attrs.readonly?(v(),A("span",mr,R(i(L)),1)):(v(),P(Ve,{key:2},{default:s(()=>[Z(R(i(L)),1)]),_:1})):(v(),A("span",fr,R(e.placeholder),1))]),append:s(()=>[p(pe,{name:"event"})]),default:s(()=>[p(Xe,{modelValue:n.value,"onUpdate:modelValue":M[1]||(M[1]=E=>n.value=E),offset:[0,5],anchor:"bottom left",breakpoint:"0","no-parent-event":"","no-refocus":"",self:"top left",onHide:y,onBeforeHide:N},{default:s(()=>[p(na,K({modelValue:o.value,"onUpdate:modelValue":M[0]||(M[0]=E=>o.value=E),"text-color":i(a)("primary")},i(k),{"onUpdate:modelValue":b}),null,16,["modelValue","text-color"])]),_:1},8,["modelValue"])]),_:1},16,["modelValue","class","clearable"]))}};var pr=Object.freeze(Object.defineProperty({__proto__:null,default:vr},Symbol.toStringTag,{value:"Module"}));const hr={__name:"QxEditor",props:{input:Function,readonly:Boolean,clearable:Boolean,placeholder:String,modelValue:[String,Number]},emits:["input","update:modelValue"],setup(e,{emit:l}){const t=e,a=B(null),r=h(()=>({"toolbar-rounded":!0,"min-height":"5rem",placeholder:t.placeholder,readonly:t.readonly})),o=B(""),n=()=>{o.value!==t.modelValue&&(o.value=t.modelValue||"")};oe(se(t,"modelValue"),()=>n(),{immediate:!0});const d=()=>ye(()=>a.value.focus()),c=$=>{l("update:modelValue",$),t.input?t.input($):l("input",$)};return($,k)=>(v(),P(Be,K({modelValue:o.value,"onUpdate:modelValue":k[1]||(k[1]=L=>o.value=L),readonly:e.readonly,class:"qx-editor","no-error-icon":""},$.$attrs,{onFocus:d}),{control:s(()=>[p(ra,K({ref_key:"QxEditor",ref:a,modelValue:o.value,"onUpdate:modelValue":k[0]||(k[0]=L=>o.value=L)},i(r),{"onUpdate:modelValue":c}),null,16,["modelValue"])]),_:1},16,["modelValue","readonly"]))}};var gr=Object.freeze(Object.defineProperty({__proto__:null,default:hr},Symbol.toStringTag,{value:"Module"}));function Fl(e={}){return e.label?e.label.split(",").map(l=>l.trim()):["label"]}function Ml(e={}){return e.value||"value"}const nl="--";function Ol(e,l){if(Q(e))return"";if(te(e)!=="object")return e;const t=Fl(l);let a="";for(const r of t)a+=`${nl}${e[r]}`;return a.replace(nl,"")}function Ye(e,l){return Q(e)?"":te(e)!=="object"?e:e[Ml(l)]}function Ct(e,l){if(Q(e))return!1;const t=te(e);if(!["object","array"].includes(t))return!1;const a=l?l.disable||"isEnable":"disable";return t==="object"?[!0,"0"].includes(e[a]):!!e.filter(r=>[!0,"0"].includes(r[a]))}function Vt(e={},l,t){if(Q(e))return"";const a=t||Ol;return te(e)==="array"?e.map(r=>a(r,l)).join(","):a(e,l)}function yr(e={},l){return Q(e)?"":te(e)==="array"?e.map(t=>Ye(t,l)).join(","):Ye(e,l)}function br(e=[],l,t){return Q(t)?e:(t=t.toLowerCase(),e.filter(a=>String(Ol(a,l)).toLowerCase().includes(t)))}function ct(e,l,t){const a=new Map;return t&&(e=xe(e)),e.reverse(),e=e.filter(r=>!a.has(Ye(r,l))&&a.set(Ye(r,l),1)),e.reverse()}const kr={__name:"QxSelect",props:{type:String,rules:Array,props:Object,field:String,page:Boolean,dicUrl:String,options:Array,clearable:{type:Boolean,default:!0},rowInfo:Object,loading:Boolean,change:Function,dicQuery:Object,keyWords:String,multiple:Boolean,dicMethod:String,placeholder:String,formatLabel:Function,modelValue:[String,Number,Array]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=B(0),r=B([]),o=B(null),n=B(!!t.dicUrl),d=B(!1),c=B(void 0),$=B(!1),k=B(t.options||[]),L=h(()=>yr(c.value,t.props)),C=h(()=>t.dicMethod==="get"?Pt:ut),N=h(()=>Q(c.value)?t.placeholder:""),y=h(()=>f=>String(L.value||"").split(",").includes(Ye(f,t.props))?!1:Ct(f,t.props)),g=h(()=>{const f=t.rules||[];return f.push(_=>!Ct(_,t.props)||J.t("SelectedTip")),f}),b=se(t,"rowInfo"),j=f=>{b.value&&(b.value[`SSS_${t.field}`]=Vt(f,t.props,t.formatLabel))},V=f=>{let _=[];te(f)==="number"?_=[f]:te(f)==="array"?_=f:te(f)==="string"&&(_=String(f).split(","));const w=(k.value||[]).filter(me=>_.includes(Ye(me,t.props)));if(w.length===_.length){r.value=Object.freeze([...k.value]),c.value=t.multiple?w:w[0],j(c.value);return}if(!n.value)return;const Y=xe(t.dicQuery||{});Y[Ml(t.props)]=_.join(","),Y.pageSize=_.length,d.value=!0,C.value(t.dicUrl,Y,me=>{const $e=me.rows||me;k.value=ct([...t.options||[],...$e],t.props),r.value=Object.freeze([...k.value]),c.value=t.multiple?ct([...w,...$e],t.props):$e[0],j(c.value),d.value=!1},()=>{r.value=Object.freeze([...k.value]),c.value=t.multiple?w:w[0]||f,j(c.value),d.value=!1})},O=()=>{if(L.value===t.modelValue){j(c.value);return}if(Q(t.modelValue)){c.value=void 0;return}V(t.modelValue)},M=()=>{n.value=!!t.dicUrl,k.value=t.options||[],O()};oe(se(t,"modelValue"),()=>O()),oe(se(t,"options"),()=>M()),oe(se(t,"dicQuery"),()=>M(),{immediate:!0});const E=f=>{const _=xe(t.dicQuery||{});d.value=!0,C.value(t.dicUrl,_,w=>{const Y=w.rows||w;k.value=ct([...t.options||[],...Y],t.props),f(()=>{r.value=Object.freeze([...k.value])}),n.value=!1,d.value=!1},()=>{f(()=>{r.value=Object.freeze([...k.value])}),d.value=!1})},F=B(1),z=B(1e4),u=B(void 0),q=({ref:f,to:_})=>{if(!t.page||!n.value||d.value||z.value&&_>=z.value)return;d.value=!0;const w=xe(t.dicQuery||{});if(u.value)if(t.keyWords)w[t.keyWords]=u.value,w.andKeywordLikeItem={keyword:u.value,propertys:[t.keyWords]};else{const Y=Fl(t.props);w.andKeywordLikeItem={keyword:u.value,propertys:Y},Y.map(me=>(w[me]=u.value,me))}w.pageNum=F.value,w.pageSize=50,C.value(t.dicUrl,w,Y=>{F.value++;const me=Y.rows||Y;!u.value&&Y.total&&(z.value=+Y.total),k.value=ct([...t.options||[],...me],t.props),r.value=Object.freeze([...k.value]),ye(()=>f.refresh()),n.value=!1,d.value=!1},()=>{d.value=!1})},I=(f,_)=>{if(a.value=0,u.value=f,f&&t.page&&(n.value=!!t.dicUrl),n.value){if(t.page){a.value=800,_();return}E(_)}else _(()=>{r.value=br(k.value,t.props,f)})},H=()=>$.value=!0,S=()=>W(),W=()=>{if(ye(()=>{o.value&&o.value.blur()}),!$.value)return;let f=t.multiple?c.value:[c.value];f=xe(f),l("update:modelValue",L.value),t.change?t.change(L.value,f):l("change",L.value,f),$.value=!1};return(f,_)=>(v(),P(dl,K({ref_key:"QxSelect",ref:o,modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=w=>c.value=w),clearable:e.clearable,"input-debounce":a.value,loading:e.loading||d.value,multiple:e.multiple,"option-disable":w=>i(y)(w),options:r.value,placeholder:i(N),rules:i(g),behavior:"menu","transition-hide":"jump-up","transition-show":"jump-down","use-input":""},f.$attrs,{onClear:S,onFilter:I,onPopupHide:W,onVirtualScroll:q,"onUpdate:modelValue":H}),Se({selected:s(()=>[p(yt,null,{default:s(()=>[p(Ve,null,{default:s(()=>[Z(R(i(Vt)(c.value,e.props,e.formatLabel)),1)]),_:1})]),_:1})]),option:s(({itemProps:w,opt:Y})=>[p(bt,K({class:[i(Ct)(Y,e.props)?"bg-red-4":"","row items-center"]},w),{default:s(()=>[p(yt,null,{default:s(()=>[p(Ve,null,{default:s(()=>[Z(R(i(Vt)(Y,e.props,e.formatLabel)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040,["class"])]),"no-option":s(()=>[p(bt,null,{default:s(()=>[p(ht,{class:"text-italic text-center"},{default:s(()=>[Z(R(f.$t("NoData")),1)]),_:1})]),_:1})]),_:2},[de(Object.keys(qe()),w=>({name:w,fn:s(()=>[G(f.$slots,w)])}))]),1040,["modelValue","clearable","input-debounce","loading","multiple","option-disable","options","placeholder","rules"]))}};var Sr=Object.freeze(Object.defineProperty({__proto__:null,default:kr},Symbol.toStringTag,{value:"Module"}));const _r={key:0},xr={key:1,class:"placeholder"},wr={__name:"QxTime",props:{type:String,clearable:{type:Boolean,default:!0},placeholder:String,option:[Array,Function],lazyRules:[Boolean,String],modelValue:[String,Date]},emits:["change","update:modelValue"],setup(e,{emit:l}){const t=e,a=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],r=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],o=B(null),n=B(null),d=B(null),c=B(void 0),$=B(!1),k=h(()=>$.value?"q-field--focused q-field--highlighted":""),L=h(()=>(M,E)=>E==="H"?(c.value||"").startsWith(M):(c.value||"").endsWith(M)),C=(M="",E)=>{if(!M)return;if(E==="H"){const z=r.findIndex(u=>M.endsWith(u));d.value&&d.value.setScrollPosition("vertical",z*32-80,0);return}const F=a.findIndex(z=>M.startsWith(z));n.value&&n.value.setScrollPosition("vertical",F*32-80,0)},N=()=>{if(c.value!==t.modelValue){if(Q(t.modelValue)){c.value=void 0;return}typeof t.modelValue=="object"?c.value=tt.formatDate(t.modelValue,"HH:mm"):c.value=t.modelValue}};oe(se(t,"modelValue"),()=>{N()},{immediate:!0});const y=()=>{o.value&&o.value.blur()},g=()=>{l("update:modelValue",c.value||""),t.lazyRules!=="ondemand"&&o.value&&o.value.validate()},b=()=>{$.value=!$.value;let M=setTimeout(()=>{C(c.value,"H"),C(c.value,"M"),clearTimeout(M),M=null},0)},j=(M,E)=>{if(E==="H"){if(!c.value){c.value=`${M}:00`,d.value&&d.value.setScrollPosition("vertical",0,200);return}c.value=c.value.replace(/^../,M),C(c.value,E);return}if(!c.value){c.value=`08:${M}`,n.value&&n.value.setScrollPosition("vertical",7*32,100);return}c.value=c.value.replace(/..$/,M),C(c.value,E)},V=()=>{if(!$.value||!o.value)return;const M=o.value.$el.getBoundingClientRect(),E=window.innerHeight;(M.top>E||M.bottom<0)&&($.value=!1)},O=()=>{$.value=!1};return Je(()=>{window.addEventListener("scroll",V,!0),window.addEventListener("resize",O,!1)}),st(()=>{window.removeEventListener("scroll",V,!0),window.removeEventListener("resize",O,!1)}),(M,E)=>(v(),P(Be,K({ref_key:"QxTime",ref:o,modelValue:c.value,"onUpdate:modelValue":E[1]||(E[1]=F=>c.value=F),class:i(k),clearable:e.clearable,"lazy-rules":"ondemand"},M.$attrs,{onFocus:b}),{control:s(()=>[c.value?(v(),A("span",_r,R(c.value),1)):(v(),A("span",xr,R(e.placeholder),1))]),append:s(()=>[p(pe,{name:"access_time"})]),default:s(()=>[p(Xe,{modelValue:$.value,"onUpdate:modelValue":E[0]||(E[0]=F=>$.value=F),offset:[0,5],anchor:"bottom left",breakpoint:"0",class:"qx-time","no-parent-event":"","no-refocus":"",self:"top left",onHide:g,onBeforeHide:y},{default:s(()=>[p(Bt,{ref_key:"hourArea",ref:n},{default:s(()=>[(v(),A(ie,null,de(a,F=>Ke(p(bt,{key:F,active:i(L)(F,"H"),"active-class":"time-active-cls",clickable:"",dense:"",onClick:z=>j(F,"H")},{default:s(()=>[p(ht,null,{default:s(()=>[Z(R(F),1)]),_:2},1024)]),_:2},1032,["active","onClick"]),[[Kt]])),64))]),_:1},512),p(it,{vertical:""}),p(Bt,{ref_key:"minArea",ref:d},{default:s(()=>[(v(),A(ie,null,de(r,F=>Ke(p(bt,{key:F,active:i(L)(F,"M"),"active-class":"time-active-cls",clickable:"",dense:"",onClick:z=>j(F,"M")},{default:s(()=>[p(ht,null,{default:s(()=>[Z(R(F),1)]),_:2},1024)]),_:2},1032,["active","onClick"]),[[Kt]])),64))]),_:1},512)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","class","clearable"]))}};var $r=Object.freeze(Object.defineProperty({__proto__:null,default:wr},Symbol.toStringTag,{value:"Module"}));ga([ya,ba,ka,Sa,_a,xa,wa,$a,Ca,Va,Ta,ja,Ba]);const Cr={__name:"QCharts",props:{rows:Array,ySite:Array,xSite:String,xName:String,title:String,colors:Array,stack:Object,charts:Array,xRotate:Number,legend:{type:Boolean,default:!0},loading:Boolean,contentClass:String,labelMap:[Object,Array]},setup(e){const l=e,t=B(null),a=h(()=>Q(l.labelMap)?Q(l.xSite)?[]:[l.xSite]:te(l.labelMap)==="object"?Q(l.xSite)?Object.keys(l.labelMap):[l.xSite,...Object.keys(l.labelMap)]:Q(l.xSite)?l.labelMap:[l.xSite,...l.labelMap]),r=h(()=>({type:"category",name:l.xName||"",nameLocation:"start",nameTextStyle:{align:"center",verticalAlign:"top",padding:[8,0,0,5]},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{interval:0,rotate:l.xRotate||0}})),o=h(()=>{if(Q(l.ySite))return{};const b=[];for(const j of l.ySite)te(j)==="object"?b.push({name:j.name,type:"value",axisLabel:{formatter:"{value}"+(j.format||"")},alignTicks:!0}):b.push({type:"value",axisLabel:{formatter:"{value}"+(j||"")},alignTicks:!0});return b}),n=h(()=>({barMaxWidth:30,barMinWidth:8,symbolSize:8,smooth:!0,itemStyle:{borderRadius:[5,5,0,0]}})),d=b=>{if(!Q(l.stack)){for(const j in l.stack)if((l.stack[j]||[]).includes(b))return j}},c=h(()=>{if(Q(l.charts)){if(Q(a.value))return[];const j=[];for(const V of a.value)V!==a.value[0]&&j.push({type:"bar",name:V,...n.value,stack:d(V)});return j}const b=[];for(const j of l.charts)if(te(j)==="object"){const V={...n.value,...j};j.color&&(V.itemStyle=V.itemStyle||{},V.itemStyle.color=new Yt(0,0,0,1,j.color)),j.emColor&&(V.emphasis={itemStyle:{color:new Yt(0,0,0,1,j.emColor)}}),b.push(V)}else b.push({type:j,...n.value});return b}),$=b=>Q(l.labelMap)||te(l.labelMap)==="array"?b:l.labelMap[b]||b,k=(b,j)=>Q(b)?"-":te(b)==="object"?Q(b[j])?"-":b[j]:b,L=(b=[])=>{let j="",V="";for(const O of b)V||(V=O.axisValue),j+=`${O.marker} ${$(O.seriesName)}\uFF1A${k(O.value,O.seriesName)}<br />`;return`${V}<br />${j}`},C=h(()=>{const b={dataset:{dimensions:a.value,source:l.rows||[]},legend:{top:10,show:l.legend,data:null,formatter:V=>$(V)},grid:{top:50,left:50,right:20,bottom:30},title:{top:8,text:l.title},tooltip:{trigger:"axis",className:"echarts-tooltip-cls",formatter:V=>L(V)},xAxis:r.value,yAxis:o.value,series:c.value},j=(l.rows||[]).length;return j>30?b.dataZoom=[{show:!0,type:"slider",xAxisIndex:0,end:Math.floor(3e3/j),showDetail:!1,brushSelect:!1}]:b.dataZoom=[{show:!1}],l.colors&&(b.color=l.colors),b});let N=null;const y=()=>{N||(N=qa(t.value)),N.setOption(C.value)},g=()=>{if(N)return N.resize();t.value&&y()};return(b,j)=>(v(),A(ie,null,[ue("div",{ref_key:"QChart",ref:t,class:fe([e.contentClass,"q-charts shadow-3 rounded-borders"])},null,2),p(Ae,{showing:e.loading},{default:s(()=>[p(Ze,{color:"primary",size:"50px"})]),_:1},8,["showing"]),p(gt,{debounce:"1000",onResize:g})],64))}};var Vr=Object.freeze(Object.defineProperty({__proto__:null,default:Cr},Symbol.toStringTag,{value:"Module"}));const Tr={class:"q-preview"},jr={class:"q-preview-tip glossy text-white flex justify-between items-center"},Br=["src"],qr={class:"q-preview-tip glossy text-white flex justify-center items-center q-gutter-x-xl"},Rt={__name:"QPreview",props:{name:String,index:Number,imgList:Array,keyWords:String,modalValue:Boolean},setup(e){const l=e,t=B("false"),a=B(l.index||0),r=h(()=>{if(!(!l.imgList||!l.imgList[a.value]))return l.imgList[a.value][l.name||"name"]});zt(()=>{a.value=l.index||0});const o=h(()=>C=>{if(typeof C=="string")return C;if(l.keyWords){const N=l.keyWords.split(".");let y;for(const g of N)y?y=y[g]:y=C[g];return y}return C.src}),n=B(1),d=B(0),c=h(()=>({transform:`scale(${n.value}) rotate(${d.value}deg)`})),$=C=>{n.value*=C},k=C=>d.value+=C,L=()=>{n.value=1,d.value=0};return(C,N)=>(v(),P(il,{modelValue:t.value,"onUpdate:modelValue":N[5]||(N[5]=y=>t.value=y),"full-width":"","full-height":""},{default:s(()=>[ue("div",Tr,[ue("div",jr,[Z(R(i(r)||`${C.$t("Picture")}${C.$t("Preview")}`)+" ",1),Ke((v(),P(ae,{class:"q-btn-close",dense:"",flat:"",icon:"close"},{default:s(()=>[p(_e,ke(Ee(C.$tooltipAttr)),{default:s(()=>[Z(R(C.$t("Close")),1)]),_:1},16)]),_:1})),[[oa]])]),p(ia,{"transition-prev":"slide-right","transition-next":"slide-left",swipeable:"",animated:"",modelValue:a.value,"onUpdate:modelValue":N[0]||(N[0]=y=>a.value=y),thumbnails:"",infinite:""},{default:s(()=>[(v(!0),A(ie,null,de(e.imgList||[],(y,g)=>(v(),P(sa,{key:g,name:g,"img-src":i(o)(y)},{default:s(()=>[ue("img",{class:"rounded-borders",src:i(o)(y),style:we(i(c))},null,12,Br)]),_:2},1032,["name","img-src"]))),128))]),_:1},8,["modelValue"]),ue("div",qr,[p(ae,{dense:"",flat:"",icon:"loupe",onClick:N[1]||(N[1]=y=>$(1.1))}),p(ae,{dense:"",flat:"",icon:"remove_circle_outline",onClick:N[2]||(N[2]=y=>$(.9))}),p(ae,{dense:"",flat:"",icon:"restore",onClick:L}),p(ae,{dense:"",flat:"",icon:"rotate_left",onClick:N[3]||(N[3]=y=>k(-45))}),p(ae,{dense:"",flat:"",icon:"rotate_right",onClick:N[4]||(N[4]=y=>k(45))})])])]),_:1},8,["modelValue"]))}};var Lr=Object.freeze(Object.defineProperty({__proto__:null,default:Rt},Symbol.toStringTag,{value:"Module"}));const Nr={class:"row items-start q-gutter-sm"},Fr=["onClick"],Mr=["onClick"],Or={key:1,class:"absolute-full"},Er=["onClick"],zr={__name:"QPicture",props:{lazyRules:[Boolean,String],modelValue:String,clearable:Boolean,required:Boolean,outlined:Boolean,readonly:Boolean,loading:Boolean,sName:String,bName:String,limitNum:{type:Number,default:5},isLtXM:{type:Number,default:50}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,{humanStorageSize:a}=lt,r=B(null),o=B(!1),n=B(!1),d=h(()=>[{name:"Authorization",value:_t().token},{name:"lang",value:J.locale}]),c=h(()=>`${Pe}oss/api/ossUploadRecord/batchUpload`),$=h(()=>t.isLtXM*1024*1024),k=q=>{const I=r.value.files.map(H=>H.__key);return q.filter(H=>!I.includes(`${H.name}${H.size}`))},L=h(()=>({flat:!0,batch:!0,multiple:!0,label:void 0,accept:"image/*","auto-upload":!0,color:"transparent",readonly:t.readonly,"max-files":t.limitNum,headers:d.value,"max-file-size":$.value})),C=B(""),N=q=>{const I={id:q.id,lastModified:+q.endTime,name:q.originalFileName,size:q.sizeBytes,__progressLabel:"100.00%",__status:"uploaded",resultPath:q.resultPath,__sizeLabel:q.sizeBytes<1024?`${q.sizeBytes}.0B`:a(q.sizeBytes)};I.__key=`${q.originalFileName}${q.sizeBytes}`,q.imageFlag==="1"&&(I.__img={src:q.imageSignedUrl}),r.value&&r.value.files.push(I)},y=()=>{if(t.modelValue===C.value)return;if(!t.modelValue){C.value="",r.value&&r.value.reset();return}o.value=!0;const q={pageSize:"-1",imageSignedUrlFlag:!0,idList:(t.modelValue||"").split(",")};ut("/oss/api/ossUploadRecord/list",q,I=>{C.value=t.modelValue;for(const H of I.rows)N(H);o.value=!1},()=>{o.value=!1})};oe(se(t,"modelValue"),()=>{y()},{immediate:!0});const g=()=>({url:c.value,method:"POST",fieldName:"files",formFields:[{name:"serviceName",value:t.sName||"fmbb"},{name:"bussinessModule",value:t.bName||"fmbb"},{name:"publicRead",value:!1}]}),b=()=>{o.value=!0},j=()=>{o.value=!1},V=B(0),O=q=>{if(q.xhr.response){const I=JSON.parse(q.xhr.response);je[I.status](I)}},M=()=>{const q=r.value.files;C.value=q.map(I=>I.id).join(","),l("update:modelValue",C.value||"")},E=q=>{if(q.xhr.response){const I=JSON.parse(q.xhr.response);if(I.code!=="0"){for(const S of q.files)r.value.updateFileStatus(S,"failed",S.size),r.value.removeFile(S);je[I.code](I);return}const H=q.files.length;for(let S=0;S<H;S++)q.files[S].id=I.data[S].id;M()}},F=(q,I)=>{I>-1&&q.__status!=="uploading"&&(V.value=I,n.value=!0)},z=q=>{o.value=!0,$l({dicUrl:"/oss/api/ossUploadRecord/download",dicQuery:{path:q.resultPath},fileName:q.name,dicMethod:"get",done:()=>{o.value=!1}})},u=(q,I)=>{At({msg:`${J.t("DelTips")}`},()=>{r.value.files.splice(I,1),r.value.removeFile(q),M()},()=>{})};return(q,I)=>(v(),A(ie,null,[p(Be,K({hint:e.readonly?"":q.$t("PictureTips",[e.isLtXM]),label:void 0,loading:e.loading,readonly:e.readonly,borderless:"",class:"q-picture","lazy-rules":"ondemand","no-error-icon":""},q.$attrs),{control:s(()=>[p(cl,K({ref_key:"uploadRef",ref:r,factory:g,filter:k},i(L),{onFailed:O,onFinish:j,onStart:b,onUploaded:E}),{header:s(H=>[ue("div",Nr,[(v(!0),A(ie,null,de(H.files,(S,W)=>(v(),A("div",{key:S.__key,class:"q-pictrue-card no-border rounded-borders shadow-1 overflow-hidden flex-center cursor-pointer",onClick:vt(f=>F(S,W),["stop"])},[S.__img?(v(),P(fl,{key:0,src:S.__img.src,loading:"lazy"},{default:s(()=>[S.__status==="failed"?(v(),A("div",{key:0,class:"uploader-error rounded-borders absolute-top-right",onClick:vt(F,["stop"])},[p(pe,{class:"cursor-pointer",color:"negative",name:"cloud_upload",onClick:H.upload},{default:s(()=>[p(_e,ke(Ee(q.$tooltipAttr)),{default:s(()=>[Z(R(`${q.$t("UploadFailed")}`),1)]),_:1},16)]),_:2},1032,["onClick"])],8,Mr)):ee("",!0),S.__status==="uploading"?(v(),A("div",Or,[p(Ae,{showing:!0},{default:s(()=>[p(ml,{value:S.__progress*100,color:"primary",size:"60px"},null,8,["value"])]),_:2},1024)])):(v(),A("div",{key:2,class:"q-pictrue-tip absolute-bottom flex justify-around items-center",onClick:vt(F,["stop"])},[p(pe,{class:"cursor-pointer",name:"cloud_download",onClick:f=>z(S)},null,8,["onClick"]),p(pe,{class:"cursor-pointer",name:"delete",onClick:f=>u(S,W)},null,8,["onClick"])],8,Er))]),_:2},1032,["src"])):ee("",!0)],8,Fr))),128)),e.readonly?ee("",!0):(v(),P(ae,{key:0,glossy:"",icon:"add",padding:"lg",style:{opacity:".8"},"text-color":"primary",onClick:H.pickFiles},{default:s(()=>[p(vl),p(_e,ke(Ee(q.$tooltipAttr)),{default:s(()=>[Z(R(`${q.$t("PleaseSelect")}${q.$t("Picture")}`),1)]),_:1},16)]),_:2},1032,["onClick"]))])]),list:s(()=>[]),_:1},16)]),_:1},16,["hint","loading","readonly"]),p(Ae,{showing:o.value},{default:s(()=>[p(Ze,{color:"primary",size:"30px"})]),_:1},8,["showing"]),p(Rt,{modelValue:n.value,"onUpdate:modelValue":I[0]||(I[0]=H=>n.value=H),imgList:(r.value||{}).files,index:V.value,keyWords:"__img.src"},null,8,["modelValue","imgList","index"])],64))}};var Pr=Object.freeze(Object.defineProperty({__proto__:null,default:zr},Symbol.toStringTag,{value:"Module"}));const Ur={__name:"QxFile",props:{lazyRules:[Boolean,String],modelValue:String,clearable:Boolean,required:Boolean,outlined:Boolean,readonly:Boolean,loading:Boolean,sName:String,bName:String,limitNum:{type:Number,default:5},isLtXM:{type:Number,default:50}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,{humanStorageSize:a}=lt,r=be("BgToColor"),o=B(null),n=B(!1),d=B(!1),c=B(!1),$=h(()=>o.value?o.value.files.filter(f=>f.__img):[]),k=h(()=>({menu:!0,rightBtn:!1,column:[{label:`${J.t("File")}${J.t("Name")}`,field:"name",rowsNum:3},{label:`${J.t("File")}${J.t("Size")}`,field:"__sizeLabel",width:90},{label:`${J.t("File")}${J.t("Status")}`,field:"__status",slot:!0,width:90,align:"center"},{label:`${J.t("Thumbnail")}`,field:"picture",slot:!0,width:90,align:"center"}]})),L=h(()=>[{name:"Authorization",value:_t().token},{name:"lang",value:J.locale}]),C=h(()=>`${Pe}oss/api/ossUploadRecord/batchUpload`),N=h(()=>t.isLtXM*1024*1024),y=f=>{const _=o.value.files.map(w=>w.__key);return f.filter(w=>!_.includes(`${w.name}${w.size}`))},g=h(()=>({flat:!0,batch:!0,multiple:!0,label:void 0,"auto-upload":!0,color:"transparent",readonly:t.readonly,"max-files":t.limitNum,headers:L.value,"max-file-size":N.value})),b=B(""),j=f=>{const _={id:f.id,lastModified:+f.endTime,name:f.originalFileName,size:f.sizeBytes,__progressLabel:"100.00%",__status:"uploaded",resultPath:f.resultPath,__sizeLabel:f.sizeBytes<1024?`${f.sizeBytes}.0B`:a(f.sizeBytes)};_.__key=`${f.originalFileName}${f.sizeBytes}`,f.imageFlag==="1"&&(_.__img={src:f.imageSignedUrl}),o.value&&o.value.files.push(_)},V=()=>{if(t.modelValue===b.value)return;if(!t.modelValue){b.value="",o.value&&o.value.reset();return}n.value=!0;const f={pageSize:"-1",imageSignedUrlFlag:!0,idList:(t.modelValue||"").split(",")};ut("/oss/api/ossUploadRecord/list",f,_=>{b.value=t.modelValue;for(const w of _.rows)j(w);n.value=!1},()=>{n.value=!1})};oe(se(t,"modelValue"),()=>V(),{immediate:!0});const O=()=>({url:C.value,method:"POST",fieldName:"files",formFields:[{name:"serviceName",value:t.sName||"fmbb"},{name:"bussinessModule",value:t.bName||"fmbb"},{name:"publicRead",value:!1}]}),M=()=>{n.value=!0},E=()=>{n.value=!1,l("onSucess",o.value.files[0])},F=B(0),z=f=>{if(f.xhr.response){const _=JSON.parse(f.xhr.response);je[_.status](_)}},u=()=>{const f=o.value.files;b.value=f.map(_=>_.id).join(","),l("update:modelValue",b.value||"")},q=f=>{if(f.xhr.response){const _=JSON.parse(f.xhr.response);if(_.code!=="0"){for(const Y of f.files)o.value.updateFileStatus(Y,"failed",Y.size),o.value.removeFile(Y);je[_.code](_);return}const w=f.files.length;for(let Y=0;Y<w;Y++)f.files[Y].id=_.data[Y].id;u()}},I=()=>{d.value=!0},H=(f,_)=>{_>-1&&f.__status!=="uploading"&&(F.value=_,c.value=!0)},S=f=>{n.value=!0,$l({dicUrl:"/oss/api/ossUploadRecord/download",dicQuery:{path:f.resultPath},fileName:f.name,dicMethod:"get",done:()=>{n.value=!1}})},W=(f,_)=>{At({msg:`${J.t("DelTips")}`},()=>{o.value.files.splice(_,1),o.value.removeFile(f),u()},()=>{})};return(f,_)=>(v(),A(ie,null,[p(Be,K({hint:e.readonly?"":f.$t("FileTips",[e.isLtXM]),label:void 0,loading:e.loading,readonly:e.readonly,borderless:"",class:"q-picture","lazy-rules":"ondemand","no-error-icon":""},f.$attrs),{control:s(()=>[p(cl,K({ref_key:"uploadRef",ref:o,factory:O,filter:y},i(g),{onFailed:z,onFinish:E,onStart:M,onUploaded:q}),{header:s(w=>[p(ua,null,{default:s(()=>[p(ae,{label:f.$t("ToView"),loading:n.value,"text-color":i(r)("primary"),color:"primary",icon:"preview",onClick:I},{default:s(()=>[w.files.length?(v(),P(da,{key:0,class:fe(`text-${i(r)("info")}`),color:"info",floating:""},{default:s(()=>[Z(R(w.files.length),1)]),_:2},1032,["class"])):ee("",!0)]),_:2},1032,["label","loading","text-color"]),p(it,{vertical:""}),p(ae,{disable:e.readonly,label:f.$t("Upload"),loading:n.value,"text-color":i(r)("primary"),color:"primary",icon:"cloud_upload",onClick:w.pickFiles},{default:s(()=>[p(vl)]),_:2},1032,["disable","label","loading","text-color","onClick"])]),_:2},1024)]),list:s(()=>[]),_:1},16)]),_:1},16,["hint","loading","readonly"]),p(Vl,{modelValue:d.value,"onUpdate:modelValue":_[0]||(_[0]=w=>d.value=w),header:`${f.$t("File")}${f.$t("List")}`,menuBtn:!1,width:"50%"},{default:s(()=>[p(Ll,{data:(o.value||{}).files,option:i(k)},{__status:s(({row:w})=>[p(ml,{value:(w.__progress||1)*100,color:"primary","font-size":"12px","show-value":"",size:"60px"},{default:s(()=>[Z(R(w.__progressLabel),1)]),_:2},1032,["value"])]),picture:s(({row:w,index:Y})=>[w.__img?(v(),P(fl,{key:0,src:w.__img.src,class:"rounded-borders cursor-pointer",loading:"lazy",sizes:"60px",onClick:vt(me=>H(w,Y),["stop"])},null,8,["src","onClick"])):ee("",!0)]),menu:s(({row:w,index:Y})=>[p(ae,{color:"primary",flat:"",icon:"cloud_download",round:"",onClick:me=>S(w)},null,8,["onClick"]),e.readonly?ee("",!0):(v(),P(ae,{key:0,color:"negative",flat:"",icon:"delete",round:"",onClick:me=>W(w,Y)},null,8,["onClick"]))]),_:1},8,["data","option"])]),_:1},8,["modelValue","header"]),p(Rt,{modelValue:c.value,"onUpdate:modelValue":_[1]||(_[1]=w=>c.value=w),imgList:i($),index:F.value,keyWords:"__img.src"},null,8,["modelValue","imgList","index"])],64))}};var Ar=Object.freeze(Object.defineProperty({__proto__:null,default:Ur},Symbol.toStringTag,{value:"Module"}));const rl={"./Global/QModal.vue":Ja,"./Global/QxForm.vue":un,"./Global/QxPage.vue":fn,"./Global/QxTable.vue":Pn,"./Global/QxTree.vue":Qn,"./Global/Form/QGroup.vue":Hn,"./Global/Form/QMonth.vue":Xn,"./Global/Form/QNumber.vue":er,"./Global/Form/QSelectTree.vue":nr,"./Global/Form/QYear.vue":cr,"./Global/Form/QxDate.vue":pr,"./Global/Form/QxEditor.vue":gr,"./Global/Form/QxSelect.vue":Sr,"./Global/Form/QxTime.vue":$r,"./Global/Tools/QCharts.vue":Vr,"./Global/Tools/QPicture.vue":Pr,"./Global/Tools/QPreview.vue":Lr,"./Global/Tools/QxFile.vue":Ar,"./Global/Tools/QxTooltip.vue":bn},lo=e=>{Object.keys(rl).forEach(l=>{const t=rl[l],a=t.default||t,r=a.name||a.__name;e.component(r,a)})};export{Cl as _,Gr as a,ut as b,At as c,xe as d,to as e,He as f,Te as g,Zr as h,J as i,Q as j,nt as k,lo as l,Kr as m,Yr as p,Xr as r,Le as s,Ia as t,_t as u,eo as v,Jr as z};
