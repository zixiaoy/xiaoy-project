import{f as ce,g as Q,q as Z,h as D,d as oe,Q as ee,T as de,au as x,k as F,l as w,m as B,ac as A,n as me,o as N,av as se,S as te,aw as pe,i as fe,ax as _e,ay as ge,af as ve,v as he,H as be,t as ke,ai as ye,as as Y,az as Se,aA as $e,aB as Ce,r as we,aC as Te,aD as Ee,aE as Ve}from"./quasar-1668577893034.js";import{i as V,e as C,f as le,a as r,c as P,g as J,F as U,h as d,w as t,d as e,u as s,j as b,t as u,n as W,r as I,m as Le,x as H,v as R,z as G,A as O,a9 as Qe,aa as De,a4 as Ae,k as re,P as Ie,b as z,y as M,a5 as Re,T as Me,G as Be}from"./@vue-1668577893034.js";import{z as ae,u as X,_ as ie,j as Ge,t as Oe,c as Pe,i as qe}from"./components-1668577893034.js";import{u as ne,b as K}from"./vue-router-1668577893034.js";import{d as Ne,u as ue}from"./index-1668577893034.js";import{_ as Ue}from"./ZIXIAOY-1668577893034.js";import"./package-1668577893034.js";import"./@intlify-1668577893034.js";import"./axios-1668577893034.js";import"./echarts-1668577893034.js";import"./zrender-1668577893034.js";import"./xlsx-1668577893034.js";/* empty css                     */const ze={__name:"MenuItem",props:{menu:Array,initLevel:Number,openMenu:String},setup(h){const o=h,i=V("handleLoad"),g=V("isDense",!0),m=C(()=>v=>`${v}-group`),c=C(()=>(v={},q)=>v.menuIcon||q),a=C(()=>(o.openMenu||"").split(",")),_=C(()=>(v={})=>a.value.includes(v.menuId)),p=(v={})=>v[ae("menuZhCn")]||v.title,l=ne(),T=K(),$=C(()=>v=>v===l.fullPath),y=v=>{v!==l.fullPath&&(i(!0),W(async()=>{await T.replace(v),i(!1)}))};return(v,q)=>{const E=le("menu-item",!0);return r(!0),P(U,null,J(h.menu||[],(k,n)=>(r(),P(U,{key:n},[k.children?(r(),d(ce,{key:n,dense:s(g),group:s(m)(h.initLevel),"header-inset-level":h.initLevel,icon:s(c)(k.meta,"storage"),label:p(k.meta),"model-value":s(_)(k.meta)},{default:t(()=>[e(E,{"init-level":h.initLevel+.25,menu:k.children,"open-menu":h.openMenu},null,8,["init-level","menu","open-menu"])]),_:2},1032,["dense","group","header-inset-level","icon","label","model-value"])):(r(),d(D,{key:1,active:s($)(k.path),dense:s(g),"inset-level":h.initLevel,"active-class":"text-positive glossy",clickable:"",onClick:f=>y(k.path)},{default:t(()=>[e(Q,{avatar:""},{default:t(()=>[e(Z,{name:s(c)(k.meta,"insert_chart")},null,8,["name"])]),_:2},1024),e(Q,null,{default:t(()=>[b(u(p(k.meta)),1)]),_:2},1024)]),_:2},1032,["active","dense","inset-level","onClick"]))],64))),128)}}},je={__name:"IndexMenu",setup(h){const o={backgroundColor:"transparent",opacity:0},i=ne(),g=K(),m=C(()=>(i.meta||{}).parentIds||"Dashboard"),c=X(),a=I(!1),_=I(c.treeMenus),p=()=>{a.value=!0,c.GetMenus().then(l=>{_.value=l.TMenus,Ne(l.LMenus,g),a.value=!1}).catch(()=>{a.value=!1})};return Le(()=>c.breadcrumbs,l=>{l&&l.id?p():_.value=c.treeMenus},{immediate:!0}),(l,T)=>(r(),d(de,{"thumb-style":o,visible:!1,class:"menu-cls"},{default:t(()=>[e(ze,{"init-level":0,menu:_.value,"open-menu":s(m)},null,8,["menu","open-menu"]),e(oe,{showing:a.value},{default:t(()=>[e(ee,{color:"primary",size:"50px"})]),_:1},8,["showing"])]),_:1}))}};const xe=h=>(Qe("data-v-141bb087"),h=h(),De(),h),Fe={class:"full-width text-center text-subtitle1"},He=xe(()=>H("br",null,null,-1)),Ze={__name:"IndexSetting",setup(h){const o=ue(),i=C(()=>[{label:"Primary",color:o.primaryBG,key:"primary"},{label:"Success",color:o.positiveBG,key:"positive"},{label:"Error",color:o.negativeBG,key:"negative"},{label:"Prompt",color:o.infoBG,key:"info"},{label:"Warning",color:o.warningBG,key:"warning"}]),g=a=>o.setDark(a),m=a=>o.setDense(a),c=(a,_)=>o.setColor(a,_);return(a,_)=>(r(),d(fe,{style:{width:"180px"}},{default:t(()=>[e(x,{class:"q-pt-lg full-width"},{default:t(()=>[H("div",Fe,u(a.$t("System"))+u(a.$t("Style"))+u(a.$t("Setting")),1),e(F),R((r(),d(w,{class:"q-toolbar--close q-btn-close",dense:"",flat:"",icon:"close"},{default:t(()=>[e(B,G(O(a.$tooltipAttr)),{default:t(()=>[b(u(a.$t("Close")),1)]),_:1},16)]),_:1})),[[A]])]),_:1}),e(me,{class:"column q-pl-sm q-pr-sm q-gutter-y-md"},{default:t(()=>[e(N),e(x,null,{default:t(()=>[e(se,{modelValue:s(o).isDark,"onUpdate:modelValue":[_[0]||(_[0]=p=>s(o).isDark=p),g],"checked-icon":"brightness_4",dense:"",size:"lg","unchecked-icon":"brightness_high"},null,8,["modelValue"]),e(F),H("span",null,u(a.$t("DarkMode")),1)]),_:1}),e(N),e(x,null,{default:t(()=>[e(se,{modelValue:s(o).isDense,"onUpdate:modelValue":[_[1]||(_[1]=p=>s(o).isDense=p),m],dense:"",size:"lg"},null,8,["modelValue"]),e(F),H("span",null,u(a.$t("CompactLayout")),1)]),_:1}),(r(!0),P(U,null,J(s(i),p=>(r(),P(U,{key:`picker-${p.key}`},[e(N),e(w,{color:p.key,"text-color":s(o).BgToColor(p.key),glossy:"","no-caps":"",unelevated:""},{default:t(()=>[b(u(p.label),1),He,b(" "+u(p.color)+" ",1),e(te,{anchor:"bottom left",breakpoint:"0",self:"center right","transition-hide":"jump-right","transition-show":"jump-left"},{default:t(()=>[e(pe,{modelValue:p.color,"onUpdate:modelValue":l=>p.color=l,onChange:l=>c(l,p.key)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),_:2},1032,["color","text-color"])],64))),128)),e(w,{class:"on-left",glossy:"",icon:"restore",unelevated:"",onClick:s(o).resetSetting},{default:t(()=>[b(u(a.$t("Reset"))+u(a.$t("Setting")),1)]),_:1},8,["onClick"])]),_:1})]),_:1}))}};var Je=ie(Ze,[["__scopeId","data-v-141bb087"]]);const We={__name:"Breadcrumbs",setup(h){const o=X(),i=C(()=>Ge(o.breadcrumbs)?[]:[o.breadcrumbs]);return(g,m)=>(r(),d(ge,{class:"breadcrumbs flex items-center text-h6","active-color":"none"},{default:t(()=>[e(Ae,{name:"breadcrumb"},{default:t(()=>[(r(!0),P(U,null,J(s(i),(c,a)=>(r(),d(_e,{key:a,class:"items-center"},{default:t(()=>[e(Z,{name:"admin_panel_settings",size:"28px"}),b(" "+u(c[s(ae)("serviceNameZhCn")]),1)]),_:2},1024))),128))]),_:1})]),_:1}))}},Xe={};function Ke(h,o){return r(),d(ve,{class:"LOGO-cls",src:Ue,transition:"scale"},{loading:t(()=>[e(ee,{color:"primary"})]),error:t(()=>[e(Z,{color:"warning",name:"self_improvement"})]),_:1})}var Ye=ie(Xe,[["render",Ke]]);const et={__name:"TagsView",setup(h){const o=re({align:"left",swipeable:!0,"inline-label":!0,"outside-arrows":!0,"mobile-arrows":!0}),i=Oe(),g=V("BgToColor"),m=V("handleLoad"),c=V("isDense",!0),a=I("Console"),_=C(()=>(n={},f="insert_chart")=>n.menuIcon||f),p=(n={})=>n[ae("menuZhCn")]||n.title,l=C(()=>i.tags),T=ne(),$=K(),y=X();(()=>{var n;return a.value=((n=T.meta)==null?void 0:n.menuId)||"Console"})();const q=n=>{n.path!==T.fullPath&&(m(!0),W(async()=>{if(await $.replace(n.path),m(!1),!["/dashboard/worktable","/dashboard/console","/"].includes(n.path)&&y.breadcrumbs.id!==n.serviceId){const f=(y.serviceList||[]).find(S=>S.id===n.serviceId)||{};y.SET_BREADCRUMBS(f)}}))},E=(n,f)=>{if(n.path!==T.fullPath||n.menuId!==(T.meta||{}).menuId){i.REMOVE_TAGS(f);return}$.push(l.value[f-1].path),i.REMOVE_TAGS(f)},k=(n,f)=>{const S=l.value.findIndex(L=>L.path===T.fullPath);if(S>n){if(f==="left"){i.REMOVE_TAGS({index:n,side:f});return}if(["right","other"].includes(f)){$.push(l.value[n].path),i.REMOVE_TAGS({index:n,side:f});return}$.push(l.value[0].path),i.REMOVE_TAGS(void 0);return}if(S===n){f?i.REMOVE_TAGS({index:n,side:f}):i.REMOVE_TAGS(void 0);return}if(f==="right"){i.REMOVE_TAGS({index:n,side:f});return}if(["left","other"].includes(f)){$.push(l.value[n].path),i.REMOVE_TAGS({index:n,side:f});return}$.push(l.value[0].path),i.REMOVE_TAGS(void 0)};return(n,f)=>(r(),d(ke,M({modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=S=>a.value=S),"active-color":s(g)("info"),breakpoint:0,class:"tags-view",dense:""},o),{default:t(()=>[(r(!0),P(U,null,J(s(l),(S,L)=>(r(),d(he,{key:`${S.path}-${L}`,icon:s(_)(S),label:p(S),name:(S||{}).menuId,onClick:j=>q(S)},{default:t(()=>[L!==0?(r(),d(Z,{key:0,class:"tagView-remove-icon",name:"close",onClick:Ie(j=>E(S,L),["prevent","stop"])},null,8,["onClick"])):z("",!0),e(te,{anchor:"center right","context-menu":"",self:"top middle","touch-position":"","transition-hide":"jump-up","transition-show":"jump-down"},{default:t(()=>[e(be,{dense:s(c)},{default:t(()=>[R((r(),d(D,{clickable:""},{default:t(()=>[e(Q,{onClick:j=>k(L,"left")},{default:t(()=>[b(u(n.$t("Close"))+u(n.$t("LeftSide")),1)]),_:2},1032,["onClick"])]),_:2},1024)),[[A]]),R((r(),d(D,{clickable:""},{default:t(()=>[e(Q,{onClick:j=>k(L,"right")},{default:t(()=>[b(u(n.$t("Close"))+u(n.$t("RightSide")),1)]),_:2},1032,["onClick"])]),_:2},1024)),[[A]]),R((r(),d(D,{clickable:""},{default:t(()=>[e(Q,{onClick:j=>k(L,"other")},{default:t(()=>[b(u(n.$t("Close"))+u(n.$t("Other")),1)]),_:2},1032,["onClick"])]),_:2},1024)),[[A]]),R((r(),d(D,{clickable:""},{default:t(()=>[e(Q,{onClick:k},{default:t(()=>[b(u(n.$t("Close"))+u(n.$t("All")),1)]),_:1})]),_:1})),[[A]])]),_:2},1032,["dense"])]),_:2},1024)]),_:2},1032,["icon","label","name","onClick"]))),128))]),_:1},16,["modelValue","active-color"]))}},tt={__name:"Lang",setup(h){const o=V("isDense",!0),i=ue(),g=(m=i.locale)=>{i.setLocale(m)};return g(),(m,c)=>(r(),d(w,{dense:s(o),"fab-mini":"",glossy:"",icon:"translate",round:""},{default:t(()=>[e(B,G(O(m.$tooltipAttr)),{default:t(()=>[b(u(m.$t("Language")),1)]),_:1},16),e(te,{offset:[0,5],anchor:"bottom left",breakpoint:"0",self:"top middle","transition-hide":"jump-up","transition-show":"jump-down"},{default:t(()=>[R((r(),d(D,{active:s(i).locale==="ZH_CN","active-class":"baseRootItemActive",clickable:""},{default:t(()=>[e(Q,{onClick:c[0]||(c[0]=a=>g("ZH_CN"))},{default:t(()=>[b("\u4E2D\u6587\u7B80\u4F53")]),_:1})]),_:1},8,["active"])),[[A]]),e(N),R((r(),d(D,{active:s(i).locale==="EN_US","active-class":"baseRootItemActive",clickable:""},{default:t(()=>[e(Q,{onClick:c[1]||(c[1]=a=>g("EN_US"))},{default:t(()=>[b("English")]),_:1})]),_:1},8,["active"])),[[A]])]),_:1})]),_:1},8,["dense"]))}},at={class:"toolbar q-gutter-x-sm q-pr-sm"},nt={__name:"Toolbar",setup(h){const o=V("isDense",!0),i=ye(),g=C(()=>i.screen.gt.xs),m=re({glossy:!0,"fab-mini":!0,round:!0}),c=X(),a=K(),_=()=>Y.toggle(),p=()=>{Pe({msg:qe.t("ExitTip")},()=>c.LOGOUT().then(()=>W(()=>a.push("/login"))))};return(l,T)=>(r(),P("div",at,[e(tt),e(w,M({dense:s(o),icon:s(Y).isActive?"fullscreen_exit":"crop_free"},m,{onClick:_}),{default:t(()=>[e(B,G(O(l.$tooltipAttr)),{default:t(()=>[b(u(s(Y).isActive?l.$t("ExitFullScreen"):l.$t("FullScreen")),1)]),_:1},16)]),_:1},16,["dense","icon"]),s(g)?(r(),d(w,{key:0,dense:s(o),label:`Hi\uFF01${s(c).userInfo.nickName}`,glossy:"",icon:"account_box",padding:"8px 10px"},{default:t(()=>[e(B,G(O(l.$tooltipAttr)),{default:t(()=>[b(u(l.$t("CurrentLogon")),1)]),_:1},16)]),_:1},8,["dense","label"])):z("",!0),e(w,M({dense:s(o),icon:"power_settings_new"},m,{onClick:p}),{default:t(()=>[e(B,G(O(l.$tooltipAttr)),{default:t(()=>[b(u(`${l.$t("Exit")}${l.$t("System")}`),1)]),_:1},16)]),_:1},16,["dense"])]))}},vt={__name:"MainLayout",setup(h){const o=V("BgToColor"),i=V("isDense",!0),g=C(()=>({round:!0,"fab-mini":!0,glossy:!0,dense:i.value})),m=I(!0),c=I(!1),a=I(!1),_=I(!1),p=()=>a.value=!a.value,l=()=>_.value=!_.value;Re("handleLoad",y=>m.value=y===!0);const $=()=>{m.value=!0,c.value=!1,W(()=>{m.value=!1,c.value=!0})};return $(),(y,v)=>{const q=le("router-view");return r(),d(Se,{class:"fit non-selectable",view:"lHr LpR lFr"},{default:t(()=>[e($e,{class:"bg-info",elevated:""},{default:t(()=>[e(x,{class:"row q-gutter-x-sm"},{default:t(()=>[e(w,M({icon:a.value?"format_indent_decrease":"format_indent_increase"},s(g),{onClick:p}),null,16,["icon"]),e(w,M({class:"q-btn-refresh",icon:"refresh"},s(g),{onClick:$}),{default:t(()=>[e(B,G(O(y.$tooltipAttr)),{default:t(()=>[b(u(y.$t("Reload")),1)]),_:1},16)]),_:1},16),e(We),e(F),e(nt),y.isDEV?(r(),d(w,M({key:0,icon:"settings_applications"},s(g),{onClick:l}),{default:t(()=>[e(B,G(O(y.$tooltipAttr)),{default:t(()=>[b(u(y.$t("System"))+u(y.$t("Setting")),1)]),_:1},16)]),_:1},16)):z("",!0)]),_:1}),e(N),e(et,{onOnReload:$})]),_:1}),e(Ce,{modelValue:a.value,"onUpdate:modelValue":v[0]||(v[0]=E=>a.value=E),width:220,class:"layout-left-box",elevated:"","show-if-above":""},{default:t(()=>[e(Ye),e(N,{dark:""}),e(je)]),_:1},8,["modelValue"]),e(we,{modelValue:_.value,"onUpdate:modelValue":v[1]||(v[1]=E=>_.value=E),class:"system-setting","full-height":"",position:"right"},{default:t(()=>[e(Je)]),_:1},8,["modelValue"]),e(Ee,{class:"fit"},{default:t(()=>[c.value?(r(),d(q,{key:0},{default:t(({Component:E,route:k})=>[e(Me,{name:"q-transition--slide-right"},{default:t(()=>[(r(),d(Te,{key:k.path,class:"layout-page fit"},{default:t(()=>[m.value?z("",!0):(r(),d(Be(E),{key:0})),e(oe,{showing:m.value},{default:t(()=>[e(ee,{color:"primary",size:"50px"})]),_:1},8,["showing"])]),_:2},1024))]),_:2},1024)]),_:1})):z("",!0)]),_:1}),e(Ve,{offset:[10,10],"scroll-offset":150,class:"skip-top",position:"bottom-right"},{default:t(()=>[e(w,M({"text-color":s(o)("info"),color:"info",icon:"keyboard_arrow_up"},s(g)),null,16,["text-color"])]),_:1})]),_:1})}}};export{vt as default};
