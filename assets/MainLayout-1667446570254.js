import{v as ce,t as T,l as H,a2 as E,m as oe,n as X,I as de,ap as j,f as z,g as $,h as A,a4 as V,i as me,j as q,aq as ae,H as K,ar as pe,Q as fe,as as _e,at as ge,a8 as ve,au as he,y as be,av as ke,ad as ye,an as W,aw as Se,ax as $e,ay as Ce,o as we,az as Te,aA as Ee,aB as Ve}from"./quasar-1667446570254.js";import{i as B,c as C,a7 as se,o as r,B as G,E as Z,F as N,d as m,e as t,f as e,g as s,q as h,k as d,r as Q,w as le,j as x,h as D,l as R,p as L,a8 as Qe,a9 as De,a2 as Ie,a as re,N as Ae,s as P,m as I,y as F,T as Re,C as Le}from"./@vue-1667446570254.js";import{z as Y,k as ne,u as J,_ as ue,j as Be,t as Ge,c as Me,i as Oe}from"./components-1667446570254.js";import{d as qe,u as ie}from"./index-1667446570254.js";import{u as ee,b as te}from"./vue-router-1667446570254.js";import{_ as Ne}from"./ZIXIAOY-1667446570254.js";import"./package-1667446570254.js";import"./@intlify-1667446570254.js";import"./axios-1667446570254.js";import"./echarts-1667446570254.js";import"./zrender-1667446570254.js";/* empty css                     */const Pe={__name:"MenuItem",props:{menu:Array,initLevel:Number,openMenu:String},setup(_){const l=_,u=B("isDense",!0),g=C(()=>a=>`${a}-group`),v=C(()=>(a={},i)=>a.menuIcon||i),c=C(()=>(l.openMenu||"").split(",")),n=C(()=>(a={})=>c.value.includes(a.menuId)),f=(a={})=>a[Y("menuZhCn")]||a.title;return(a,i)=>{const S=se("menu-item",!0);return r(!0),G(N,null,Z(_.menu||[],(b,k)=>(r(),G(N,{key:k},[b.children?(r(),m(ce,{key:k,dense:s(u),group:s(g)(_.initLevel),"header-inset-level":_.initLevel,icon:s(v)(b.meta,"storage"),label:f(b.meta),"model-value":s(n)(b.meta)},{default:t(()=>[e(S,{"init-level":_.initLevel+.25,menu:b.children,"open-menu":_.openMenu},null,8,["init-level","menu","open-menu"])]),_:2},1032,["dense","group","header-inset-level","icon","label","model-value"])):(r(),m(E,{key:1,dense:s(u),"inset-level":_.initLevel,to:b.path,"active-class":"text-positive glossy",clickable:""},{default:t(()=>[e(T,{avatar:""},{default:t(()=>[e(H,{name:s(v)(b.meta,"insert_chart")},null,8,["name"])]),_:2},1024),e(T,null,{default:t(()=>[h(d(f(b.meta)),1)]),_:2},1024)]),_:2},1032,["dense","inset-level","to"]))],64))),128)}}},Ue={__name:"IndexMenu",setup(_){const l={backgroundColor:"transparent",opacity:0},u=ee(),g=te(),v=C(()=>(u.meta||{}).parentIds||"Dashboard"),c=Q([ne(!0)]),n=Q(!1),f=J(),a=()=>{n.value=!0,f.GetMenus().then(i=>{c.value=i.TMenus,qe(i.LMenus,g),n.value=!1}).catch(()=>{n.value=!1})};return le(()=>f.breadcrumbs,i=>{i&&i.id?a():c.value=[ne(!0)]},{immediate:!0}),(i,S)=>(r(),m(de,{"thumb-style":l,visible:!1,class:"menu-cls"},{default:t(()=>[e(Pe,{"init-level":0,menu:c.value,"open-menu":s(v)},null,8,["menu","open-menu"]),e(oe,{showing:n.value},{default:t(()=>[e(X,{color:"primary",size:"50px"})]),_:1},8,["showing"])]),_:1}))}};const je=_=>(Qe("data-v-141bb087"),_=_(),De(),_),ze={class:"full-width text-center text-subtitle1"},xe=je(()=>x("br",null,null,-1)),Fe={__name:"IndexSetting",setup(_){const l=ie(),u=C(()=>[{label:"Primary",color:l.primaryBG,key:"primary"},{label:"Success",color:l.positiveBG,key:"positive"},{label:"Error",color:l.negativeBG,key:"negative"},{label:"Prompt",color:l.infoBG,key:"info"},{label:"Warning",color:l.warningBG,key:"warning"}]),g=n=>l.setDark(n),v=n=>l.setDense(n),c=(n,f)=>l.setColor(n,f);return(n,f)=>(r(),m(fe,{style:{width:"180px"}},{default:t(()=>[e(j,{class:"q-pt-lg full-width"},{default:t(()=>[x("div",ze,d(n.$t("System"))+d(n.$t("Style"))+d(n.$t("Setting")),1),e(z),D((r(),m($,{class:"q-toolbar--close q-btn-close",dense:"",flat:"",icon:"close"},{default:t(()=>[e(A,R(L(n.$tooltipAttr)),{default:t(()=>[h(d(n.$t("Close")),1)]),_:1},16)]),_:1})),[[V]])]),_:1}),e(me,{class:"column q-pl-sm q-pr-sm q-gutter-y-md"},{default:t(()=>[e(q),e(j,null,{default:t(()=>[e(ae,{modelValue:s(l).isDark,"onUpdate:modelValue":[f[0]||(f[0]=a=>s(l).isDark=a),g],"checked-icon":"brightness_4",dense:"",size:"lg","unchecked-icon":"brightness_high"},null,8,["modelValue"]),e(z),x("span",null,d(n.$t("DarkMode")),1)]),_:1}),e(q),e(j,null,{default:t(()=>[e(ae,{modelValue:s(l).isDense,"onUpdate:modelValue":[f[1]||(f[1]=a=>s(l).isDense=a),v],dense:"",size:"lg"},null,8,["modelValue"]),e(z),x("span",null,d(n.$t("CompactLayout")),1)]),_:1}),(r(!0),G(N,null,Z(s(u),a=>(r(),G(N,{key:`picker-${a.key}`},[e(q),e($,{color:a.key,"text-color":s(l).BgToColor(a.key),glossy:"","no-caps":"",unelevated:""},{default:t(()=>[h(d(a.label),1),xe,h(" "+d(a.color)+" ",1),e(K,{anchor:"bottom left",breakpoint:"0",self:"center right","transition-hide":"jump-right","transition-show":"jump-left"},{default:t(()=>[e(pe,{modelValue:a.color,"onUpdate:modelValue":i=>a.color=i,onChange:i=>c(i,a.key)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),_:2},1032,["color","text-color"])],64))),128)),e($,{class:"on-left",glossy:"",icon:"restore",unelevated:"",onClick:s(l).resetSetting},{default:t(()=>[h(d(n.$t("Reset"))+d(n.$t("Setting")),1)]),_:1},8,["onClick"])]),_:1})]),_:1}))}};var He=ue(Fe,[["__scopeId","data-v-141bb087"]]);const Ze={__name:"Breadcrumbs",setup(_){const l=J(),u=C(()=>Be(l.breadcrumbs)?[]:[l.breadcrumbs]);return(g,v)=>(r(),m(ge,{class:"breadcrumbs flex items-center text-h6","active-color":"none"},{default:t(()=>[e(Ie,{name:"breadcrumb"},{default:t(()=>[(r(!0),G(N,null,Z(s(u),(c,n)=>(r(),m(_e,{key:n,class:"items-center"},{default:t(()=>[e(H,{name:"admin_panel_settings",size:"28px"}),h(" "+d(c[s(Y)("serviceNameZhCn")]),1)]),_:2},1024))),128))]),_:1})]),_:1}))}},Je={};function We(_,l){return r(),m(ve,{class:"LOGO-cls",src:Ne,transition:"scale"},{loading:t(()=>[e(X,{color:"primary"})]),error:t(()=>[e(H,{color:"warning",name:"self_improvement"})]),_:1})}var Xe=ue(Je,[["render",We]]);const Ke={__name:"TagsView",setup(_){const l=re({align:"left",swipeable:!0,"inline-label":!0,"outside-arrows":!0,"mobile-arrows":!0}),u=Ge(),g=B("BgToColor"),v=B("isDense",!0),c=Q("Console"),n=C(()=>(o={},p="insert_chart")=>o.menuIcon||p),f=(o={})=>o[Y("menuZhCn")]||o.title,a=C(()=>u.tags),i=ee(),S=te(),b=J(),k=o=>{F(()=>{if(!["/dashboard/worktable","/dashboard/console","/"].includes(o.path)&&b.breadcrumbs.id!==o.serviceId){const p=(b.serviceList||[]).find(y=>y.id===o.serviceId)||{};b.SET_BREADCRUMBS(p)}})},M=(o,p)=>{if(o.path!==i.fullPath||o.menuId!==(i.meta||{}).menuId){u.REMOVE_TAGS(p);return}S.push(a.value[p-1].path),u.REMOVE_TAGS(p)},O=(o,p)=>{const y=a.value.findIndex(w=>w.path===i.fullPath);if(y>o){if(p==="left"){u.REMOVE_TAGS({index:o,side:p});return}if(["right","other"].includes(p)){S.push(a.value[o].path),u.REMOVE_TAGS({index:o,side:p});return}S.push(a.value[0].path),u.REMOVE_TAGS(void 0);return}if(y===o){p?u.REMOVE_TAGS({index:o,side:p}):u.REMOVE_TAGS(void 0);return}if(p==="right"){u.REMOVE_TAGS({index:o,side:p});return}if(["left","other"].includes(p)){S.push(a.value[o].path),u.REMOVE_TAGS({index:o,side:p});return}S.push(a.value[0].path),u.REMOVE_TAGS(void 0)};return(o,p)=>(r(),m(ke,I({modelValue:c.value,"onUpdate:modelValue":p[0]||(p[0]=y=>c.value=y),"active-color":s(g)("info"),breakpoint:0,class:"tags-view",dense:""},l),{default:t(()=>[(r(!0),G(N,null,Z(s(a),(y,w)=>(r(),m(he,{key:`${y.path}-${w}`,icon:s(n)(y),label:f(y),name:(y||{}).menuId,to:y.path,onClick:U=>k(y)},{default:t(()=>[w!==0?(r(),m(H,{key:0,class:"tagView-remove-icon",name:"close",onClick:Ae(U=>M(y,w),["prevent","stop"])},null,8,["onClick"])):P("",!0),e(K,{anchor:"center right","context-menu":"",self:"top middle","touch-position":"","transition-hide":"jump-up","transition-show":"jump-down"},{default:t(()=>[e(be,{dense:s(v)},{default:t(()=>[D((r(),m(E,{clickable:""},{default:t(()=>[e(T,{onClick:U=>O(w,"left")},{default:t(()=>[h(d(o.$t("Close"))+d(o.$t("LeftSide")),1)]),_:2},1032,["onClick"])]),_:2},1024)),[[V]]),D((r(),m(E,{clickable:""},{default:t(()=>[e(T,{onClick:U=>O(w,"right")},{default:t(()=>[h(d(o.$t("Close"))+d(o.$t("RightSide")),1)]),_:2},1032,["onClick"])]),_:2},1024)),[[V]]),D((r(),m(E,{clickable:""},{default:t(()=>[e(T,{onClick:U=>O(w,"other")},{default:t(()=>[h(d(o.$t("Close"))+d(o.$t("Other")),1)]),_:2},1032,["onClick"])]),_:2},1024)),[[V]]),D((r(),m(E,{clickable:""},{default:t(()=>[e(T,{onClick:O},{default:t(()=>[h(d(o.$t("Close"))+d(o.$t("All")),1)]),_:1})]),_:1})),[[V]])]),_:2},1032,["dense"])]),_:2},1024)]),_:2},1032,["icon","label","name","to","onClick"]))),128))]),_:1},16,["modelValue","active-color"]))}},Ye={__name:"Lang",setup(_){const l=B("isDense",!0),u=ie(),g=(v=u.locale)=>{u.setLocale(v)};return g(),(v,c)=>(r(),m($,{dense:s(l),"fab-mini":"",glossy:"",icon:"translate",round:""},{default:t(()=>[e(A,R(L(v.$tooltipAttr)),{default:t(()=>[h(d(v.$t("Language")),1)]),_:1},16),e(K,{offset:[0,5],anchor:"bottom left",breakpoint:"0",self:"top middle","transition-hide":"jump-up","transition-show":"jump-down"},{default:t(()=>[D((r(),m(E,{active:s(u).locale==="ZH_CN","active-class":"baseRootItemActive",clickable:""},{default:t(()=>[e(T,{onClick:c[0]||(c[0]=n=>g("ZH_CN"))},{default:t(()=>[h("\u4E2D\u6587\u7B80\u4F53")]),_:1})]),_:1},8,["active"])),[[V]]),e(q),D((r(),m(E,{active:s(u).locale==="EN_US","active-class":"baseRootItemActive",clickable:""},{default:t(()=>[e(T,{onClick:c[1]||(c[1]=n=>g("EN_US"))},{default:t(()=>[h("English")]),_:1})]),_:1},8,["active"])),[[V]])]),_:1})]),_:1},8,["dense"]))}},et={class:"toolbar q-gutter-x-sm q-pr-sm"},tt={__name:"Toolbar",setup(_){const l=B("isDense",!0),u=ye(),g=C(()=>u.screen.gt.xs),v=re({glossy:!0,"fab-mini":!0,round:!0}),c=J(),n=te(),f=()=>W.toggle(),a=()=>{Me({msg:Oe.t("ExitTip")},()=>c.LOGOUT().then(()=>F(()=>n.push("/login"))))};return(i,S)=>(r(),G("div",et,[e(Ye),e($,I({dense:s(l),icon:s(W).isActive?"fullscreen_exit":"crop_free"},v,{onClick:f}),{default:t(()=>[e(A,R(L(i.$tooltipAttr)),{default:t(()=>[h(d(s(W).isActive?i.$t("ExitFullScreen"):i.$t("FullScreen")),1)]),_:1},16)]),_:1},16,["dense","icon"]),s(g)?(r(),m($,{key:0,dense:s(l),label:`Hi\uFF01${s(c).userInfo.nickName}`,glossy:"",icon:"account_box",padding:"8px 10px"},{default:t(()=>[e(A,R(L(i.$tooltipAttr)),{default:t(()=>[h(d(i.$t("CurrentLogon")),1)]),_:1},16)]),_:1},8,["dense","label"])):P("",!0),e($,I({dense:s(l),icon:"power_settings_new"},v,{onClick:a}),{default:t(()=>[e(A,R(L(i.$tooltipAttr)),{default:t(()=>[h(d(`${i.$t("Exit")}${i.$t("System")}`),1)]),_:1},16)]),_:1},16,["dense"])]))}},ft={__name:"MainLayout",setup(_){const l=B("BgToColor"),u=B("isDense",!0),g=C(()=>({round:!0,"fab-mini":!0,glossy:!0,dense:u.value})),v=ee(),c=Q(!0);le(()=>v.path,()=>{c.value=!0;let k=setTimeout(()=>{F(()=>{c.value=!1}),clearTimeout(k),k=null},200)},{immediate:!0});const n=Q(!1),f=Q(!1),a=Q(!1),i=()=>n.value=!n.value,S=()=>a.value=!a.value,b=()=>{c.value=!0,f.value=!1,F(()=>{c.value=!1,f.value=!0})};return b(),(k,M)=>{const O=se("router-view");return r(),m(Se,{class:"fit non-selectable",view:"lHr LpR lFr"},{default:t(()=>[e($e,{class:"bg-info",elevated:""},{default:t(()=>[e(j,{class:"row q-gutter-x-sm"},{default:t(()=>[e($,I({icon:n.value?"format_indent_decrease":"format_indent_increase"},s(g),{onClick:i}),null,16,["icon"]),e($,I({class:"q-btn-refresh",icon:"refresh"},s(g),{onClick:b}),{default:t(()=>[e(A,R(L(k.$tooltipAttr)),{default:t(()=>[h(d(k.$t("Reload")),1)]),_:1},16)]),_:1},16),e(Ze),e(z),e(tt),k.isDEV?(r(),m($,I({key:0,icon:"settings_applications"},s(g),{onClick:S}),{default:t(()=>[e(A,R(L(k.$tooltipAttr)),{default:t(()=>[h(d(k.$t("System"))+d(k.$t("Setting")),1)]),_:1},16)]),_:1},16)):P("",!0)]),_:1}),e(q),e(Ke,{onOnReload:b})]),_:1}),e(Ce,{modelValue:n.value,"onUpdate:modelValue":M[0]||(M[0]=o=>n.value=o),width:220,class:"layout-left-box",elevated:"","show-if-above":""},{default:t(()=>[e(Xe),e(q,{dark:""}),e(Ue)]),_:1},8,["modelValue"]),e(we,{modelValue:a.value,"onUpdate:modelValue":M[1]||(M[1]=o=>a.value=o),class:"system-setting","full-height":"",position:"right"},{default:t(()=>[e(He)]),_:1},8,["modelValue"]),e(Ee,{class:"fit"},{default:t(()=>[f.value?(r(),m(O,{key:0},{default:t(({Component:o,route:p})=>[e(Re,{name:"q-transition--slide-right"},{default:t(()=>[(r(),m(Te,{key:p.path,class:"layout-page fit"},{default:t(()=>[c.value?P("",!0):(r(),m(Le(o),{key:0})),e(oe,{showing:c.value},{default:t(()=>[e(X,{color:"primary",size:"50px"})]),_:1},8,["showing"])]),_:2},1024))]),_:2},1024)]),_:1})):P("",!0)]),_:1}),e(Ve,{offset:[10,10],"scroll-offset":150,class:"skip-top",position:"bottom-right"},{default:t(()=>[e($,I({"text-color":s(l)("info"),color:"info",icon:"keyboard_arrow_up"},s(g)),null,16,["text-color"])]),_:1})]),_:1})}}};export{ft as default};
